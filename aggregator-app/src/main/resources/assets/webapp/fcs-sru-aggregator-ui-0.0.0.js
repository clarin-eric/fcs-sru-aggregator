const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./fcs-sru-aggregator-ui-query-builder-0.0.0.js","./vendor/react-ext.js","./vendor/react.js","./vendor/bootstrap.js","./vendor/antlr4.js","./locales/en/default.js","./vendor/prism.js","./fcs-sru-aggregator-ui-query-builder-0.0.0.css","./vendor/bootstrap.css"])))=>i.map(i=>d[i]);
import{u as Ke,b as Z,j as e,L as $e,T as F,c as Mt,d as os,N as St,r as h,e as he,f as is,g as ls,H as Te,R as cs,h as us,k as Pt,l as ht,m as ds,n as Ot,o as Ut,p as Ie,q as hs,s as ms,t as gs,v as Ht,w as ps,x as fs,y as He,Q as xs,z as js,A as bs,B as ys,C as ws}from"./vendor/react-ext.js";import{b as Ss}from"./vendor/react.js";/* empty css                            */import{C as se,R as X,a as A,N as Ce,b as ue,c as vt,M as Y,F as z,B as W,T as Qe,d as Ee,e as te,f as Dt,g as ge,I as vs,D as pe,S as Ft,h as mt,O as Se,i as be,j as _e,L as tt,A as re,P as De,k as st,l as Ls,m as nt,n as rt}from"./vendor/bootstrap.js";import{_ as qt,a as zt,b as Rs,c as Cs,d as Ns}from"./locales/en/default.js";import{g as Ts}from"./vendor/prism.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Fe={},Lt;function Is(){if(Lt)return Fe;Lt=1;var t=Ss();return Fe.createRoot=t.createRoot,Fe.hydrateRoot=t.hydrateRoot,Fe}var Es=Is();const Ae="x-consortia";async function _s(t,s){const n=new URLSearchParams;s?.consortia!==void 0&&s?.consortia!==null&&n.set(Ae,s.consortia);const r="init"+(n.entries().next().done?"":`?${n}`);return(await t.get(r)).data}async function As(t,s){const n=new URLSearchParams;s?.consortia!==void 0&&s?.consortia!==null&&n.set(Ae,s.consortia);const r="statistics"+(n.entries().next().done?"":`?${n}`);return(await t.get(r)).data}async function ks(t,s){return(await t.post("search",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}async function Ms(t,s,n){return(await t.post(`search/${s}`,n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}async function Ps(t,s){if(!s)throw new Error('Invalid "searchID" parameter!');return(await t.get(`search/${s}/metaonly`)).data}async function Os(t,s,n){if(!s)throw new Error('Invalid "searchID" parameter!');if(!n)throw new Error('Invalid "resourceID" parameter!');const a=(await t.get(`search/${s}/metaonly?resourceId=${encodeURIComponent(n)}`)).data.results.filter(o=>o.id===n);if(a.length===0)throw new Error(`Results (meta) for resource not found! (searchId: ${s}, resourceId: ${n})`);return a[0]}async function Us(t,s,n){if(!s)throw new Error('Invalid "searchID" parameter!');if(!n)throw new Error('Invalid "resourceID" parameter!');const a=(await t.get(`search/${s}?resourceId=${encodeURIComponent(n)}`)).data.results.filter(o=>o.resource.id===n);if(a.length===0)throw new Error(`Results for resource not found! (searchId: ${s}, resourceId: ${n})`);return a[0].records===void 0&&console.warn("Using legacy FCS SRU Aggregator API with Search Results not in '.records'!",{searchID:s},a),a[0]}function Hs(t,s,n,r,a,o){const i=new URLSearchParams({resourceId:n,format:r});(o==="byGuess"||o==="byMetaAndGuess")&&i.set("filterLanguage",a);const u=`search/${s}/download?${i.toString()}`;return t.getUri({url:u})}function Ds(t,s,n,r,a,o){const i=new URLSearchParams({resourceId:n});r?i.set("filterLanguage",r):(o==="byGuess"||o==="byMetaAndGuess")&&i.set("filterLanguage",a);const u=`search/${s}/toWeblicht?${i.toString()}`;return t.getUri({url:u})}const Fs=[Ae];function Ge(){const[t]=Ke(),s=new URLSearchParams(Array.from(t.entries()).filter(([n])=>Fs.includes(n)));if(!s.entries().next().done)return`?${s}`}function qs(){const{t}=Z(),s="urls.termsUseAndDisclaimer",n=t(s,{ns:"common"}),r=n!==s,a="urls.contact",o=t(a,{ns:"common"}),i=o!==a,u="footer.serviceInfo.text",c=t(u)!==u,f=Ge();return e.jsx("footer",{className:"text-muted",children:e.jsx(se,{children:e.jsxs(X,{children:[e.jsxs(A,{className:"text-start d-flex flex-sm-row flex-column column-gap-3 row-gap-2",children:[e.jsxs("div",{children:[e.jsx($e,{to:{pathname:"/about",search:f},className:"hidden-xs",children:t("footer.links.about")}),e.jsxs("div",{className:"version-info text-muted text-center-xs",children:["v","0.0.0"]})]}),e.jsx($e,{to:{pathname:"/stats",search:f},children:t("footer.links.statistics")})]}),e.jsx(A,{className:"text-center",children:c&&e.jsxs(F,{i18nKey:u,children:[e.jsxs("span",{className:"footer-fineprint",children:["Service provided by ",e.jsx("a",{href:t("footer.serviceInfo.url"),children:"CLARIN"})]}),e.jsxs("span",{children:[e.jsx("br",{}),"Hosted by CLARIN ERIC"]})]})}),e.jsxs(A,{className:"hidden-xs text-end d-flex flex-sm-row flex-column justify-content-sm-end column-gap-3 row-gap-2",children:[r&&e.jsx("a",{href:n,children:t("footer.links.termsUseAndDisclaimer")}),i&&e.jsx("a",{href:o,children:t("footer.links.contact")})]})]})})})}const K=Mt(t=>({deployPath:"/",apiURL:"https://contentsearch.clarin.eu/rest/",validatorURL:"https://www.clarin.eu/fcsvalidator/",showSearchResultLink:!1,appTitle:"Content Search",appTitleHead:"FCS Aggregator – Content Search",matomoTrackingEnabled:!0,matomoTrackingParams:null,authUsername:null,setDeployPath:s=>t(n=>({deployPath:typeof s=="function"?s(n.deployPath):s})),setApiURL:s=>t(n=>({apiURL:typeof s=="function"?s(n.apiURL):s})),setValidatorURL:s=>t(n=>({validatorURL:typeof s=="function"?s(n.validatorURL):s})),setShowSearchResultLink:s=>t(n=>({showSearchResultLink:typeof s=="function"?s(n.showSearchResultLink):s})),setAppTitle:s=>t(n=>({appTitle:typeof s=="function"?s(n.appTitle):s})),setAppTitleHead:s=>t(n=>({appTitleHead:typeof s=="function"?s(n.appTitleHead):s})),setMatomoTrackingParams:s=>t(n=>({matomoTrackingParams:typeof s=="function"?s(n.matomoTrackingParams):s})),setAuthUsername:s=>t(n=>({authUsername:typeof s=="function"?s(n.authUsername):s}))}));var zs=["en","de"];const J=Mt(t=>({locale:"en",locales:zs??["en"],setLocale:s=>t(n=>({locale:typeof s=="function"?s(n.locale):s})),setLocales:s=>t(n=>({locales:typeof s=="function"?s(n.locales):s}))})),xe=t=>{const s=os(J,t);return Object.assign(s,J),s},Bs=""+new URL("assets/icon-services-fcs.png",import.meta.url).href,Rt=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
</svg>`,ke=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-translate" viewBox="0 0 16 16">
  <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286zm1.634-.736L5.5 3.956h-.049l-.679 2.022z"/>
  <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm7.138 9.995q.289.451.63.846c-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6 6 0 0 1-.415-.492 2 2 0 0 1-.94.31"/>
</svg>`;function Vs(){const{t}=Z(),s=xe(b=>b.locale),n=xe(b=>b.locales),r=xe(b=>b.setLocale),a=K.getState().authUsername,o=a!==null&&a!=="anonymous",i=K.getState().deployPath??"",u=i+(i.endsWith("/")?"":"/")+"login",l=Ge();function c(b){b!==null&&r(b)}function f(){return o?e.jsxs(Ce.Text,{className:"ms-auto",children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Rt}})," Signed in as"," ",e.jsx("span",{className:"fw-bold",children:a})]}):e.jsxs(ue.Link,{href:`${u}${l??""}`,className:"ms-auto",children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Rt}})," ",t("header.login.login")]})}function p(){if(!n||n.length===1)return null;const b=new Intl.DisplayNames([s,"en"],{type:"language"}),N=e.jsxs(e.Fragment,{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ke}})," ",s.toUpperCase()," "]});return e.jsx(vt,{title:N,align:"end",className:"ms-2",onSelect:c,children:n.map(S=>{const T=new Intl.DisplayNames([S,"en"],{type:"language"});return e.jsxs(vt.Item,{disabled:S===s,"aria-disabled":S===s,eventKey:S,title:t("header.localeOptionTitle",{code:S,name:T.of(S),context:S!==s?"translated":null,translated:b.of(S)}),children:[S.toUpperCase()," – ",T.of(S)]},S)})})}return e.jsx("header",{children:e.jsx(Ce,{expand:"md",className:"bg-body-tertiary",children:e.jsxs(se,{children:[e.jsxs(Ce.Brand,{as:$e,to:{pathname:"/",search:l},children:[e.jsx("img",{src:Bs,width:"30",height:"30",className:"d-inline-block align-top",alt:`${t("header.title")} logo`})," ",t("header.title")]}),e.jsx(Ce.Toggle,{"aria-controls":"header-navbar-nav"}),e.jsx(Ce.Collapse,{id:"header-navbar-nav",children:e.jsxs(ue,{className:"w-100 d-flex",children:[e.jsx(ue.Link,{as:St,to:{pathname:"/",search:l},children:t("header.menu.home")}),e.jsx(ue.Link,{as:St,to:{pathname:"/help",search:l},children:t("header.menu.help")}),f(),p()]})})]})})})}/*!
 * Color mode switcher based on example from Bootstrap 5 docs.
 * @see https://getbootstrap.com/docs/5.3/customize/color-modes/#javascript
 */function $s(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ks(t){t==="auto"?document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):document.documentElement.setAttribute("data-bs-theme",t)}function Qs(){h.useEffect(()=>{function t(){Ks($s())}return t(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t)},[])}const Gs="modulepreload",Ws=function(t,s){return new URL(t,s).href},Ct={},ne=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const i=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),l=u?.nonce||u?.getAttribute("nonce");a=c(n.map(f=>{if(f=Ws(f,r),f in Ct)return;Ct[f]=!0;const p=f.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(!!r)for(let T=i.length-1;T>=0;T--){const j=i[T];if(j.href===f&&(!p||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${b}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":Gs,p||(S.as="script"),S.crossOrigin="",S.href=f,l&&S.setAttribute("nonce",l),document.head.appendChild(S),p)return new Promise((T,j)=>{S.addEventListener("load",T),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return a.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return s().catch(o)})},Ys=(t,s,n)=>{const r=t[s];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((a,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Xs={en:{app:zt,common:qt}},at="clarin",Js=J.getInitialState().locale,Zs=J.getInitialState().locales;function en(t,s){if(!t)return s;const n=typeof t=="string"?[t]:t;return[...n.map(a=>`${at}.${a}`),...n]}const ot=["app","common"],tn=en(ot);function qe(t){return typeof t=="string"||!Array.isArray(t)?[String(t)]:t}function sn(t,s,n,r){if(n?.postProcessTryPrefixedNamespacesFirst!==void 0)return t;const a=qe(s),o=qe(n.ns||r.options.defaultNS||[]),i=r.resolve(a,n),l=(i?.res!==void 0?[...qe(n.ns||[]),i.usedNS]:[...qe(n.ns||[]),...o]).map(f=>f.startsWith(at)?f:`${at}.${f}`),c=r.translate(a,{...n,ns:l,postProcessTryPrefixedNamespacesFirst:!0});return a.includes(c)?t:c}he.use(is).use({type:"postProcessor",name:"try-prefixed-namespaces-first",process:sn}).use(ls((t,s)=>Ys(Object.assign({"../locales/de/app.json":()=>ne(()=>import("./locales/de/default.js").then(r=>r.a),[],import.meta.url),"../locales/de/clarin.app.json":()=>ne(()=>import("./locales/de/default.js").then(r=>r.c),[],import.meta.url),"../locales/de/common.json":()=>ne(()=>import("./locales/de/default.js").then(r=>r.b),[],import.meta.url),"../locales/de/textplus.app.json":()=>ne(()=>import("./locales/de/textplus.app.js"),[],import.meta.url),"../locales/en/app.json":()=>ne(()=>import("./locales/en/default.js").then(r=>r.e),[],import.meta.url),"../locales/en/clarin.app.json":()=>ne(()=>import("./locales/en/default.js").then(r=>r.g),[],import.meta.url),"../locales/en/clarin.common.json":()=>ne(()=>import("./locales/en/default.js").then(r=>r.h),[],import.meta.url),"../locales/en/common.json":()=>ne(()=>import("./locales/en/default.js").then(r=>r.f),[],import.meta.url),"../locales/en/querybuilder.json":()=>ne(()=>import("./locales/en/querybuilder.js"),[],import.meta.url),"../locales/en/querysuggestions.json":()=>ne(()=>import("./locales/en/default.js").then(r=>r.q),[],import.meta.url),"../locales/en/textplus.app.json":()=>ne(()=>import("./locales/en/textplus.app.js"),[],import.meta.url),"../locales/en/textplus.common.json":()=>ne(()=>import("./locales/en/textplus.common.js"),[],import.meta.url)}),`../locales/${t}/${s}.json`,4))).init({lng:Js,fallbackLng:"en",supportedLngs:Zs,ns:tn,defaultNS:ot,fallbackNS:ot,debug:!1,interpolation:{escapeValue:!1},postProcess:["try-prefixed-namespaces-first"],resources:Xs,partialBundledLanguages:!0,react:{nsMode:"fallback",transKeepBasicHtmlNodesFor:["br","strong","i","p","em","kbd","code"]}});he.addResourceBundle("en","clarin.app",Rs);he.addResourceBundle("en","clarin.common",Cs);he.addResourceBundle("en","app",zt);he.addResourceBundle("en","querysuggestions",Ns);he.addResourceBundle("en","common",qt);Object.assign(window,{i18n:he});const nn=["Emanuel Dima","Erik Körner","Leif-Jöran Olsson","Yana Panchenko","Oliver Schonefeld","Dieter Van Uytvanck"],rn=[{id:"dropwizard",name:"Dropwizard",url:"https://www.dropwizard.io/",license:"Apache License 2.0",licenseUrl:"https://github.com/dropwizard/dropwizard/blob/release/3.0.x/LICENSE",usage:"web server"},{id:"de.mpg.mpgaai:mpgaai-shhaa",name:"MPG-AAI - simple http header authn/z",url:"https://github.com/clarin-eric/mpgaai",license:"Apache License 2.0",licenseUrl:"http://www.apache.org/licenses/LICENSE-2.0.txt",usage:"AAI / Shibboleth support"},{id:"io.swagger.core.v3",name:"Swagger Core",url:"https://github.com/swagger-api/swagger-core",license:"Apache License 2.0",licenseUrl:"https://github.com/swagger-api/swagger-core/blob/master/LICENSE",usage:"REST API documentation"},{id:"org.glassfish.jersey",name:"Eclipse Jersey",url:"https://eclipse-ee4j.github.io/jersey/",license:"Eclipse Public License 2.0",licenseUrl:"https://github.com/eclipse-ee4j/jersey/blob/2.x/LICENSE.md",usage:"RESTful web services"},{id:"org.slf4j",name:"Simple Logging Facade for Java (SLF4J)",url:"https://www.slf4j.org/",license:"MIT License",licenseUrl:"https://www.slf4j.org/license.html",usage:"logging"},{id:"org.junit",name:"JUnit 5",url:"https://junit.org/",license:"Eclipse Public License 2.0",licenseUrl:"https://github.com/junit-team/junit-framework/blob/main/LICENSE.md",usage:"testing"},{id:"optimaize/language-detector",name:"Optimaize Language Detector",url:"https://github.com/optimaize/language-detector",license:"Apache License 2.0",licenseUrl:"https://github.com/optimaize/language-detector/blob/master/LICENSE",usage:"language detection of results"},{id:"org.apache.commons:commons-text",name:"Apache Commons Text",url:"https://commons.apache.org/proper/commons-text/",license:"Apache License 2.0",licenseUrl:"https://github.com/apache/commons-text/blob/master/LICENSE.txt",usage:"export format"},{id:"com.sun.xml.bind",name:"JAXB Reference Implementation",url:"https://eclipse-ee4j.github.io/jaxb-ri/",license:"Common Development and Distribution License (CCDL) 1.1",licenseUrl:"https://github.com/javaee/jaxb-v2/blob/2.3.0.1/jaxb-ri/License.txt",usage:"XML support",hide:!0},{id:"eu.clarin.weblicht:wlfxb",name:"Weblicht wlfxb",url:"https://weblicht.sfs.uni-tuebingen.de",license:"GNU Lesser General Public License v3.0",licenseUrl:"https://github.com/weblicht/wlfxb/blob/master/LICENSE.txt",usage:"export format"},{id:"org.apache.poi:poi-ooxml",name:"Apache POI",url:"https://poi.apache.org/",license:"Apache License 2.0",licenseUrl:"https://github.com/apache/poi/blob/trunk/legal/LICENSE",usage:"export format"},{id:"org.jopendocument:jOpenDocument",name:"jOpenDocument",url:"https://www.jopendocument.org/",license:"GNU Lesser General Public License v3.0",licenseUrl:"https://www.jopendocument.org/support.html",usage:"export format"},{id:"eu.clarin.sru:sru-client",name:"CLARIN SRU/CQL Client",license:"GNU General Public License v3.0",licenseUrl:"https://github.com/clarin-eric/fcs-sru-client/blob/main/LICENSE.txt",usage:"SRU / CQL client framework",hide:!0},{id:"eu.clarin.sru.fcs:fcs-simple-client",name:"CLARIN-FCS Client",license:"GNU General Public License v3.0",licenseUrl:"https://github.com/clarin-eric/fcs-simple-client/blob/main/LICENSE.txt",usage:"FCS client framework",hide:!0}],an=[{id:"react",name:"React",url:"https://react.dev/",license:"MIT License",licenseUrl:"https://github.com/facebook/react/blob/main/LICENSE"},{id:"react-dom",name:"ReactDOM",url:"https://react.dev/reference/react-dom",license:"MIT License",licenseUrl:"https://github.com/facebook/react/blob/main/LICENSE",hide:!0},{id:"react-router",name:"React Router",url:"https://reactrouter.com/",license:"MIT License",licenseUrl:"https://github.com/remix-run/react-router/blob/main/LICENSE.md",usage:"single page application routing"},{id:"react-bootstrap",name:"React Bootstrap",url:"https://react-bootstrap.netlify.app/",license:"MIT License",licenseUrl:"https://github.com/react-bootstrap/react-bootstrap/blob/master/LICENSE",usage:"react bindings for bootstrap"},{id:"bootstrap",name:"Bootstrap",url:"https://getbootstrap.com/",license:"MIT License",licenseUrl:"https://github.com/twbs/bootstrap/blob/main/LICENSE",usage:"UI framework"},{id:"bootstrap-icons",name:"Bootstrap Icons",url:"https://icons.getbootstrap.com/",license:"MIT License",licenseUrl:"https://github.com/twbs/icons/blob/main/LICENSE"},{id:"@tanstack/react-query",name:"TanStack Query",url:"https://tanstack.com/query",license:"MIT License",licenseUrl:"https://github.com/TanStack/query/blob/main/LICENSE",usage:"data loading via REST APIs"},{id:"axios",name:"Axios",url:"https://axios-http.com/",license:"MIT License",licenseUrl:"https://github.com/axios/axios/blob/v1.x/LICENSE",usage:"cross-browser support for REST API requests"},{id:"antlr4ng",name:"Next Generation TypeScript runtime for ANTLR4",url:"https://github.com/mike-lischke/antlr4ng",license:'The "BSD license"',licenseUrl:"https://github.com/mike-lischke/antlr4ng/blob/main/LICENSE.txt",usage:"query parser"},{id:"i18next",name:"i18next",url:"https://www.i18next.com/",license:"MIT License",licenseUrl:"https://github.com/i18next/i18next/blob/master/LICENSE",usage:"translations"},{id:"react-i18next",name:"react-i18next",url:"https://react.i18next.com/",license:"MIT License",licenseUrl:"https://github.com/i18next/react-i18next/blob/master/LICENSE",usage:"translations",hide:!0},{id:"i18next-resources-to-backend",name:"i18next-resources-to-backend",url:"https://github.com/i18next/i18next-resources-to-backend",license:"MIT License",licenseUrl:"https://github.com/i18next/i18next-resources-to-backend/blob/main/licence",usage:"translation resource loading",hide:!0},{id:"zustand",name:"Zustand",url:"https://zustand-demo.pmnd.rs/",license:"MIT License",licenseUrl:"https://github.com/pmndrs/zustand/blob/main/LICENSE",usage:"state management"},{id:"@nozbe/microfuzz",name:"microfuzz",url:"https://github.com/Nozbe/microfuzz",license:"MIT License",licenseUrl:"https://github.com/Nozbe/microfuzz/blob/main/LICENSE",usage:"fuzzy search"},{id:"react-helmet-async",name:"React Helmet (async fork)",url:"https://github.com/staylor/react-helmet-async",license:"Apache License 2.0",licenseUrl:"https://github.com/staylor/react-helmet-async/blob/main/LICENSE",usage:"HTML head modifications"},{id:"react-slugify",name:"react-slugify",url:"https://github.com/martpie/react-slugify",license:"MIT License",licenseUrl:"https://github.com/martpie/react-slugify/blob/master/LICENSE",usage:"jump id fragment generation"}];function on(){const{t}=Z(),s="urls.termsUseAndDisclaimer",n=t(s,{ns:"common"}),r=n!==s,a=K.getState().matomoTrackingEnabled,o=K.getState().appTitleHead,i=Ge();function u(l){return e.jsx("ul",{children:l.filter(c=>c.hide!==!0).map(c=>e.jsxs("li",{children:[c.url?e.jsx("a",{href:c.url,children:c.name}):e.jsx("span",{children:c.name}),c.license&&e.jsxs(e.Fragment,{children:[" ","(",c.licenseUrl?e.jsx("a",{href:c.licenseUrl,children:c.license}):e.jsx("span",{children:c.license}),")"]})]},c.id))})}return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsxs("title",{children:[o," – About"]})}),e.jsxs(se,{className:"py-4",children:[e.jsx("h1",{className:"h1 mb-4",children:t("about.title")}),e.jsxs("div",{children:[e.jsx("h2",{className:"h2",children:t("about.people.title")}),e.jsx("p",{children:t("about.people.developedBy")}),e.jsx("ul",{children:nn.map(l=>e.jsx("li",{children:l},l))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"h2",children:t("about.statistics.title")}),e.jsx("p",{children:e.jsx(F,{i18nKey:"about.statistics.text",components:[e.jsx($e,{to:{pathname:"/stats",search:i},children:"endpoint statistics"})]})})]}),(r||a)&&e.jsxs("div",{children:[e.jsx("h2",{className:"h2",children:t("about.privacyPolicy.title")}),r&&e.jsx("p",{children:e.jsx(F,{i18nKey:"about.privacyPolicy.termsInfo",components:[e.jsx("a",{href:n,children:"clarin.eu"})]})}),a&&e.jsx("p",{children:e.jsx(F,{i18nKey:"about.privacyPolicy.matomoInfo",components:[e.jsx("a",{href:"https://matomo.org/",children:"Matomo"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"h2",children:t("about.sourceCode.title")}),e.jsx("p",{children:e.jsx(F,{i18nKey:"about.sourceCode.sourceInfo.text",components:[e.jsx("a",{href:t("about.sourceCode.sourceInfo.repoUrl"),children:"GitHub"}),e.jsx("a",{href:t("about.sourceCode.sourceInfo.licenseUrl"),children:"GPL 3.0 license"})]})}),e.jsx("p",{children:t("about.sourceCode.licenseInfo")})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"h2",children:t("about.technology.title")}),e.jsx("p",{children:t("about.technology.backendUses")}),u(rn),e.jsx("p",{children:t("about.technology.frontendUses")}),u(an),e.jsx("p",{children:e.jsx(F,{i18nKey:"about.technology.iconLicenseInfo",components:[e.jsx("a",{href:"http://www.freepik.com/",children:"Freepik"}),e.jsx("a",{href:"www.flaticon.com",children:"www.flaticon.com"}),e.jsx("a",{href:"http://creativecommons.org/licenses/by/3.0/",children:"CC BY 3.0"})]})})]})]})]})}const Bt=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
</svg>`,it=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-magic" viewBox="0 0 16 16">
  <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707zM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1zM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707zM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0z"/>
</svg>`;function ln(){const{t}=Z(),s=K.getState().appTitleHead;return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsxs("title",{children:[s," – Help"]})}),e.jsxs(se,{className:"my-4",children:[e.jsx("h1",{className:"h1",children:t("help.title")}),e.jsx("h2",{className:"h2",id:"performing-a-fcs-search-in-resources",children:t("help.performSearch.title")}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.performSearch.textBasicSearch"})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.performSearch.textAdvancedSearch",components:{iconMagicWand:e.jsx("i",{dangerouslySetInnerHTML:{__html:it},"aria-hidden":"true"})}})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.performSearch.textLexicalSearch",components:{iconMagicWand:e.jsx("i",{dangerouslySetInnerHTML:{__html:it},"aria-hidden":"true"})}})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.performSearch.textSearchProgress"})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.performSearch.textViewResource",components:{iconEye:e.jsx("i",{dangerouslySetInnerHTML:{__html:Bt},"aria-hidden":"true"})}})}),e.jsx("h2",{className:"h2",id:"adjusting-search-criteria",children:t("help.adjustSearchCriteria.title")}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.adjustSearchCriteria.text"})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.adjustSearchCriteria.textOtherSearchTypes"})}),e.jsx("h2",{className:"h2",id:"more-help",children:t("help.moreHelp.title")}),e.jsx("p",{children:e.jsx(F,{i18nKey:"help.moreHelp.text",components:[e.jsx("a",{href:"https://www.clarin.eu/content/content-search-tutorial",children:"Content Search: Tutorial at CLARIN.eu"}),e.jsx("a",{title:t("help.contactTitle"),href:t("urls.contact",{ns:"common"}),children:"CLARIN FCS Helpdesk"})]})})]})]})}const gt=h.createContext({resources:[],languages:{},weblichtLanguages:[]});gt.displayName="AggregatorDataContext";function cn({resources:t,languages:s,weblichtLanguages:n,children:r}){const a={resources:t,languages:s,weblichtLanguages:n};return e.jsx(gt.Provider,{value:a,children:r})}function pt(){return h.useContext(gt)}const ft=h.createContext(void 0);ft.displayName="AxiosContext";function ve(){const t=h.useContext(ft);if(!t)throw new Error('No "axios" instance set, use AxiosProvider to set one');return t}function un({axios:t,children:s}){return e.jsx(ft.Provider,{value:t,children:s})}const xt=h.createContext(void 0);xt.displayName="SearchParamsContext";function jt(){const t=h.useContext(xt);if(!t)throw new Error('No "params" data set, use SearchParamsProvider to set one');return t}function dn({language:t,languageFilter:s,queryType:n,query:r,resourceIDs:a,numberOfResults:o,children:i}){const u={language:t,languageFilter:s,queryType:n,query:r,resourceIDs:a,numberOfResults:o};return e.jsx(xt.Provider,{value:u,children:i})}function hn(t,s=0){let n=3735928559^s,r=1103547991^s;for(let a=0,o;a<t.length;a++)o=t.charCodeAt(a),n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}window._paq=window._paq||[];function mn({siteId:t,trackerUrl:s,enableLinkTracking:n=!0,domains:r=[],userId:a=void 0}){window._paq.push(["setTrackerUrl",s]),window._paq.push(["setSiteId",t]),a&&window._paq.push(["setUserId",a]),Array.isArray(r)&&r.length>0&&window._paq.push(["setDomains",r]),n&&(window._paq.push(["enableLinkTracking"]),window._paq.push(["setLinkTrackingTimer",250]))}function gn({srcUrl:t}){const s=document.createElement("script"),n=document.getElementsByTagName("script")[0];s.type="text/javascript",s.async=!0,s.defer=!0,s.src=t,n&&n.parentNode&&n.parentNode.insertBefore(s,n)}function pn(t){if(!t)return!1;let s=null;if(typeof t=="string")try{s=JSON.parse(t)}catch(c){return console.error("Error trying to parse tracking params!",c),!1}else typeof t=="object"&&(s=t);const n=s.siteId,r=s.trackerUrl,a=s.srcUrl,o=s.domains,i=s.userId?.toString();if(a===void 0)return console.warn('No "srcUrl" configuration set for tracking!'),!1;if(r===void 0)return console.warn('No "trackerUrl" configuration set for tracking!'),!1;if(n===void 0||!Number.isInteger(n))return console.warn('No "siteId" configuration set for tracking!'),!1;const u={siteId:n,trackerUrl:r,domains:o};i&&(u.userId=hn(i).toString());const l={srcUrl:a};return mn(u),Vt(document.location.href||window.location.href,document.title),gn(l),!0}function Vt(t,s,n){window._paq.push(["setDocumentTitle",s??document.title]),window._paq.push(["setCustomUrl",t]),n!==void 0&&window._paq.push(["setReferrerUrl",n]),window._paq.push(["trackPageView"])}function $t(t,s=!1,n=!1){window._paq.push(["trackSiteSearch",t,s,n])}const lt="byMeta",fn="all",Kt="resource",xn="title-up",de="mul";function We(t,s=void 0,n={}){return t===de?n?.defaultAnyLanguage??"Any Language":s?.[t]||(n?.defaultUnknownLanguage??"Unknown Language")}function jn(t){const s=J.getState().locale,n=(o,i=null)=>({...o,subResources:o.subResources.map(u=>n(u,i??o)),rootResourceId:i?.id??null}),r=t.map(o=>n(o,null)),a=function(o,i){const u=P(o.institution,s)??"",l=P(i.institution,s)??"",c=u.localeCompare(l);if(c!==0)return c;const f=P(o.title,s)??"",p=P(i.title,s)??"";return f.toLowerCase().localeCompare(p.toLowerCase())};return we(r,o=>{o.subResources.sort(a)}),r.sort(a),r}function bn(t,s){const n=[],r=[],a=[];return Object.entries(s).forEach(([o,i])=>{i.forEach(u=>{let l=!1;we(t,c=>{c.handle===u&&(l=!0,a.push(c))}),l||(console.warn("Handle not found in resources",u),r.push(u))})}),we(a,o=>{n.push(o.id)}),{selected:n,unavailable:r}}function we(t,s){const n=(r,a)=>{s(r,a)===!1||r.subResources.forEach(n)};t.forEach(n)}function me(t){const s=[];return we(t,n=>{s.push(n.id)}),s}function yn(t,s,n){const r=[],a=o=>Qt(o,a)||Tn(o,s,n);return we(t,o=>{a(o)&&r.push(o.id)}),r}function wn(t,s){const n=J.getState().locale,r=new Set;return we(t,a=>{if(s.includes(a.id)){const o=P(a.institution,n)??"";r.add(o)}return!0}),Array.from(r)}function Sn(t){const s=n=>[n,...n.subResources.map(s).flat()];return t.map(s).flat()}const vn=["en","eng","de","deu"];function Ln(t){if(t===null)return null;if(typeof t=="string")return t;for(const n of vn)if(Object.hasOwn(t,n))return t[n];const s=Object.getOwnPropertyNames(t);return s.length>0?t[s[0]]:null}function Rn(t,s){return t===null?null:typeof t=="string"?t:s&&Object.hasOwn(t,s)?t[s]:null}function P(t,s){s===void 0&&(s=J.getState().locale);const n=Rn(t,s);return n!==null?n:Ln(t)}function Ye(t,s="en"){const n=typeof t.title=="string"||t.title===null?[s]:Object.getOwnPropertyNames(t.title),r=typeof t.description=="string"||t.description===null?[s]:Object.getOwnPropertyNames(t.description),a=typeof t.institution=="string"||t.institution===null?[s]:Object.getOwnPropertyNames(t.institution),o=[...n,...r,...a];return Array.from(new Set(o))}function Cn(t,s){return!(s==="fcs"&&!t.endpoint.searchCapabilities.includes("ADVANCED_SEARCH")||s==="lex"&&!t.endpoint.searchCapabilities.includes("LEX_SEARCH"))}function Nn(t,s){return!!(s===de||t.languages&&t.languages.length===1&&t.languages[0]===s||t.languages&&t.languages.indexOf(s)>=0)}function Qt(t,s){if(!t.subResources||t.subResources.length===0)return!1;let n=!1;const r=a=>{if(s?.(a)===!0){n=!0;return}a.subResources.forEach(r)};return t.subResources.forEach(r),n}function Tn(t,s,n){return!(!Cn(t,s)||!Nn(t,n))}const In={"title-up":(t,s)=>{const n=J.getState().locale,r=P(t.title,n)??"",a=P(s.title,n)??"";return r.localeCompare(a)},"title-down":(t,s)=>{const n=J.getState().locale,r=P(t.title,n)??"",a=P(s.title,n)??"";return-r.localeCompare(a)},"institution-up":(t,s)=>{const n=J.getState().locale,r=P(t.institution,n)??"",a=P(s.institution,n)??"",o=P(t.title,n)??"",i=P(s.title,n)??"",u=r.localeCompare(a);return u!==0?u:o.localeCompare(i)},"institution-down":(t,s)=>{const n=J.getState().locale,r=P(t.institution,n)??"",a=P(s.institution,n)??"",o=P(t.title,n)??"",i=P(s.title,n)??"",u=-r.localeCompare(a);return u!==0?u:o.localeCompare(i)}};function Gt(t,s){const[n,r]=h.useState(t);return h.useEffect(()=>{const a=setTimeout(()=>{r(t)},s);return()=>{clearTimeout(a)}},[t,s]),n}function ct(t,s,n=0,r=s){if(s===t&&s===r&&s.nodeType===Node.ELEMENT_NODE&&n===1)return s.nodeType,s.textContent?.length,s.textContent?.length||0;if(s===t||t===null)return n;const a=s.parentNode;if(a===null)return n;let o=0;const i=a.childNodes;for(let u=0;u<i.length;u++){const l=i[u];if(l===s)break;l.nodeType===Node.TEXT_NODE||l.nodeType===Node.ELEMENT_NODE?o+=l.textContent?.length||0:console.warn("unknown node type",{container:t,node:s,offset:n,parent:a,i:u,child:l})}return ct(t,a,o+n,r)}function Wt(t,s){const n=t.textContent?.length||0;if(n<s)return null;let r=0;const a=t.childNodes;for(let o=0;o<a.length;o++){const i=a[o];let u=0;if(i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE?u=i.textContent?.length||0:console.warn("unknown node type, skip",{container:t,offset:s,child:i}),!(u===0&&a.length!==1)&&(r+=u,r>=s)){const l=s-(r-u);return i.nodeType===Node.ELEMENT_NODE?Wt(i,l):{node:i,offset:l}}}return a.length,null}function ut(t,s){if(!s)return null;const n=ct(t,s.startContainer,s.startOffset);if(s.startContainer.nodeType===Node.TEXT_NODE&&s.endContainer===s.startContainer)return[n,n+(s.endOffset-s.startOffset)];const r=ct(t,s.endContainer,s.endOffset);return[n,r]}function En(t,s){if(!(document.activeElement===t))return null;const r=window.getSelection();if(!r)return null;const a=document.createRange(),o=Wt(t,s);if(o)try{a.setStart(o.node,o.offset),a.collapse(!0),r.removeAllRanges(),r.addRange(a)}catch(i){console.error("Error trying to set cursor!",i,{container:t,offset:s,startRange:o})}}function Nt(t){if(!(document.activeElement===t))return null;const n=window.getSelection();if(!n||n.rangeCount===0)return null;const r=n.getRangeAt(0),a=ut(t,r);return a?a[0]:null}function _n(t){return t==="cql"?"fcs-cql":t==="fcs"?"fcs-fcsql":t==="lex"?"fcs-lexcql":"plain"}function dt(t,s){const n=_n(s),r="match-braces rainbow-braces";let a=t;try{a=Ts.highlight(t,n)}catch(i){console.warn("Error trying to highlight value",{value:t,error:i,language:n})}return`<pre><code class="language-${n} ${r}">${a}</code></pre>`}function Ne(t){return t?(t=t.replace(/[\n\t]/g," "),t=t.replace(/&nbsp;|\u202F|\u00A0/g," "),t):""}const Yt=cs.forwardRef(({value:t,onChange:s,onCursorChange:n,disabled:r,placeholder:a,queryType:o,delay:i=200,...u},l)=>{const c=h.useRef(null),f=h.useRef(null);h.useImperativeHandle(l,()=>f.current);const[p,b]=h.useState(Ne(t)),[N,S]=h.useState(null),T=Gt(p,i),[j,L]=h.useState(T);h.useEffect(()=>{const v=dt(T,o);if(L(v),f.current){const _=Nt(f.current);S(_)}},[T,o]),h.useEffect(()=>{const v=Ne(t);if(T!==v&&(b(v),L(dt(v)),f.current)){const _=Nt(f.current);S(_)}},[t,T]),h.useLayoutEffect(()=>{f.current&&N!==null&&En(f.current,N)});function E(v){const _=v.target.innerText;c.current&&(c.current.value=_),b(_),s?.(_)}function x(v){v.stopPropagation(),v.preventDefault();const Q=(v.clipboardData||window.clipboardData).getData("text");O(Q)}function k(v){v.key==="Enter"?(v.stopPropagation(),v.preventDefault(),c.current&&c.current.form?.requestSubmit()):v.key==="Backspace"?(v.stopPropagation(),v.preventDefault(),U()):v.key==="Delete"?(v.stopPropagation(),v.preventDefault(),q()):v.ctrlKey&&v.key==="a"||S(null)}function D(v=!1){if(!f.current||!n)return;const _=f.current;if(!(document.activeElement===_))return;const w=window.getSelection();if(!w||w.rangeCount===0)return;const g=[];for(let M=0;M<w.rangeCount;M++){const m=w.getRangeAt(M),R=ut(_,m);R&&g.push(R)}if(g.length===0)return;const[I,B]=g.pop();v?I===B&&(S(I),n?.(I)):n?.(I,I!==B?B:void 0)}function d(v){if(!f.current)return null;const _=f.current;if(!(document.activeElement===_))return null;const w=window.getSelection();if(!w||w.rangeCount===0)return null;const g=[];for(let m=0;m<w.rangeCount;m++){const R=w.getRangeAt(m),ee=ut(_,R);ee&&g.push(ee)}if(g.length===0)return null;g.sort();const I=g.map(([m,R])=>R-m).reduce((m,R)=>m+R,0),B=_.innerText,M=g.toReversed().reduce((m,[R,ee])=>m.slice(0,R)+m.slice(ee),B);if(v==="backspace"){if(I===0){const m=g.filter(([R,ee])=>R===ee).map(([,R])=>R).pop();if(m===0)return null;if(m!==void 0)return{value:M.slice(0,m-1)+M.slice(m),offset:m-1}}else{const m=g.map(([,R])=>R).pop();if(m!==void 0)return{value:M,offset:m-I}}return console.warn('invalid "backspace" process, abort',{container:_,selectionIndices:g,oldValue:B,newValueSpansRemoved:M,numDeleted:I}),null}else if(v==="delete"){if(I===0){const m=g.filter(([R,ee])=>R===ee).map(([,R])=>R).pop();if(m!==void 0)return{value:M.slice(0,m)+M.slice(m+1),offset:m}}else{const m=g.map(([,R])=>R).pop();if(m!==void 0)return{value:M,offset:m-I}}return console.warn('invalid "delete" process, abort',{container:_,selectionIndices:g,oldValue:B,newValueSpansRemoved:M,numDeleted:I}),null}else if(v==="paste"){if(I===0){const m=g.filter(([R,ee])=>R===ee).map(([R])=>R).shift();if(m!==void 0)return{value:M,offset:m}}else{const m=g.map(([R])=>R).shift();if(m!==void 0)return{value:M,offset:m}}return console.warn('invalid "paste" process, abort',{container:_,selectionIndices:g,oldValue:B,newValueSpansRemoved:M,numDeleted:I}),null}}function O(v){const _=d("paste");if(!_)return;const Q=Ne(v),{value:w,offset:g}=_,I=w.slice(0,g)+Q+w.slice(g),B=g+v.length;b(I),S(B),c.current&&(c.current.value=I),s?.(I),n?.(B)}function U(){const v=d("backspace");if(!v)return;const{value:_,offset:Q}=v,w=Ne(_);b(w),S(Q),c.current&&(c.current.value=w),s?.(w),n?.(Q)}function q(){const v=d("delete");if(!v)return;const{value:_,offset:Q}=v,w=Ne(_);b(w),S(Q),c.current&&(c.current.value=w),s?.(w),n?.(Q)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{role:"input",disabled:r,placeholder:a,spellCheck:!1,autoCapitalize:"off",autoCorrect:"off",...u,onInput:E,onPaste:x,onKeyDown:k,onKeyUp:()=>D(),onClick:()=>D(!0),tabIndex:r?-1:u.tabIndex,contentEditable:!0,dangerouslySetInnerHTML:{__html:j},ref:f}),a&&t===""&&e.jsx("span",{className:"input-placeholder-simulacrum",children:a}),e.jsx("input",{type:"hidden",ref:c})]})});Yt.displayName="ContentEditable";var ae=us();function An({show:t,languages:s,resources:n,searchLanguage:r,searchLanguageFilter:a,onModalClose:o}){const{t:i}=Z(),[u,l]=h.useState(r||de),[c,f]=h.useState(a||lt),[p,b]=h.useState(""),[N,S]=h.useState(!1),T=h.useMemo(()=>{const d=new Map;return n&&(n.forEach(O=>O.languages.forEach(U=>d.set(U,(d.get(U)??0)+1))),d.set(de,n.length)),d},[n]),j=ae.useFuzzySearchList({list:Object.entries(s??{}).toSorted(),queryText:p,getText:d=>[d[0],d[1]],mapResultItem:({item:d,score:O,matches:U})=>({item:d,matches:U,score:O})});if(!s)return null;const L=Math.floor((j.length+2)/3);function E(d){o({language:u,filter:c,action:d})}function x(){l(r||de),f(a||lt)}function k(){S(d=>!d)}function D(d,O,U,q){const v=u===d;let _="d-block py-0 my-1 border-0";return v&&(_+=" fw-semibold selected"),U===void 0&&(U=[null,null]),e.jsxs(W,{size:"sm",className:_,style:{color:`var(${v?"--bs-green":"--bs-body-colors"})`,backgroundColor:"var(--bs-body-bg)"},onClick:()=>l(d),"data-filter-score":q,children:[v&&e.jsx("span",{className:"selected-marker me-1",children:"✓"}),e.jsx(ae.Highlight,{ranges:U[1],text:O})," ",e.jsx("sup",{children:e.jsx(ae.Highlight,{ranges:U[0],text:d})}),N&&T.has(d)&&e.jsxs(e.Fragment,{children:[" (",T.get(d),")"]})]},d)}return e.jsxs(Y,{show:t,onHide:()=>E("close"),size:"xl",fullscreen:"lg-down",centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:i("search.languagesModal.title")})}),e.jsxs(Y.Body,{className:"px-0",children:[e.jsxs(se,{className:"px-4 pb-3 border-bottom",children:[e.jsxs(X,{children:[e.jsx(A,{sm:!0}),e.jsx(A,{sm:!0,className:"mb-3 mb-sm-2 align-content-end",children:D(de,i("languageCodeToName.any",{ns:"common"}))}),e.jsxs(A,{sm:!0,children:[e.jsx(z.Control,{size:"sm",placeholder:i("search.languagesModal.filterInputPlaceholder"),name:"languages-filter",value:p,onChange:d=>b(d.target.value)}),n&&e.jsx(z.Check,{name:"languages-show-count",id:"languages-show-count",checked:N,onChange:k,type:"checkbox",label:i("search.languagesModal.checkboxShowNumberOfResources"),className:"mt-1"})]})]}),e.jsxs(X,{children:[e.jsx(A,{sm:!0,children:j.slice(0,L).map(({item:[d,O],matches:U,score:q})=>D(d,O,U,q))}),e.jsx(A,{sm:!0,children:j.slice(L,2*L).map(({item:[d,O],matches:U,score:q})=>D(d,O,U,q))}),e.jsx(A,{sm:!0,children:j.slice(2*L).map(({item:[d,O],matches:U,score:q})=>D(d,O,U,q))})]})]}),e.jsx(z,{children:e.jsx(se,{className:"px-4 pt-3",children:["byMeta","byGuess","byMetaAndGuess"].map(d=>e.jsx(z.Check,{type:"radio",name:"filterOpts",value:d,id:`filterOpts-${d}`,checked:c===d,onChange:()=>f(d),label:i(`search.languagesModal.optionLanguage${d}`)},d))})})]}),e.jsxs(Y.Footer,{children:[e.jsx(W,{variant:"secondary",onClick:x,children:i("search.languagesModal.buttonReset")}),e.jsx(W,{variant:"secondary",onClick:()=>E("abort"),children:i("search.languagesModal.buttonAbort")}),e.jsx(W,{variant:"primary",onClick:()=>E("confirm"),children:i("search.languagesModal.buttonConfirm")})]})]})}const bt=[{id:"cql",name:"Text layer Contextual Query Language (CQL)",searchLabel:"Full-text search",color:"#29a900",searchPlaceholder:"Elephant"},{id:"fcs",name:"Multi-layer Federated Content Search Query Language (FCS-QL)",searchLabel:"Multi-layer annotation search",color:"#00a8cc",searchPlaceholder:"[word = 'annotation'][word = 'focused']"},{id:"lex",name:"Lexical Resources Contextual Query Language (LexCQL)",searchLabel:"Lexical resource search",color:"#e77e00",searchPlaceholder:"banana"}],Ve=Object.fromEntries(["cql","fcs","lex"].map(t=>[t,bt.find(s=>s.id===t)])),Tt=["fcs","lex"],kn=[{id:"text",label:"Plain Text"},{id:"csv",label:"CSV"},{id:"tcf",label:"TCF"},{id:"ods",label:"ODS"},{id:"excel",label:"Excel"}],Mn="cql",ze=[10,20,50,100,200,250],fe="info:srw/diagnostic/1/61",Pn=[{id:"cql-single-term",queryType:"cql",query:"Elephant",description:"Query with single term"},{id:"cql-with-boolean",queryType:"cql",query:"cat AND dog",description:"Query with boolean"},{id:"cql-with-phrase",queryType:"cql",query:'"exciting news"',description:"Query with phrase (quoting because of whitespaces)"},{id:"fcs-three-tokens-artznei",queryType:"fcs",query:'[ word = "her.*" ] [ lemma = "Artznei" ] [ pos = "VERB" ]',description:'Phrase with three tokens: a word starting with "her", a lemmatized word, and a verb'},{id:"lex-plain-string",queryType:"lex",query:"apple",description:"Search for plain string"},{id:"lex-lemma-with-language",queryType:"lex",query:'lemma =/lang=deu "Apfel"',description:'Search for German lemma "Apfel"'}];function On({show:t,queryTypes:s,onModalClose:n}){const{t:r}=Z(),a=s&&s.length>0?s:["cql","fcs","lex"],o=Pn.filter(c=>a.includes(c.queryType));if(o.length===0)return i("abort"),null;function i(c){n({query:void 0,queryType:void 0,action:c})}function u(c,f){n({query:c,queryType:f,action:"confirm"})}function l(c,f,p,b){return e.jsxs(X,{children:[e.jsx(A,{md:"auto",className:"d-none d-md-block",children:b&&`${b}.`}),e.jsxs(A,{className:"d-flex flex-column",children:[p!==void 0&&e.jsx("div",{children:p}),e.jsx("div",{dangerouslySetInnerHTML:{__html:dt(c,f)}})]}),e.jsx(A,{md:"auto",className:"d-flex justify-content-end align-items-baseline",children:e.jsx(W,{size:"sm",onClick:()=>u(c,f),children:r("search.suggestionsModal.buttonUseQuery")})})]},c)}return e.jsxs(Y,{id:"search-query-suggestions-modal",show:t,onHide:()=>i("close"),size:"xl",fullscreen:"xl-down",centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:r("search.suggestionsModal.title")})}),e.jsx(Y.Body,{className:"px-0",children:e.jsx(se,{fluid:!0,children:a.map(c=>{const f=o.filter(p=>p.queryType===c);return f.length===0?null:e.jsxs(h.Fragment,{children:[e.jsx(X,{children:e.jsx(A,{children:e.jsx("h4",{className:"border-bottom pb-2",children:r(`queryTypes.${c}.nameLong`,{ns:"common",defaultValue:Ve[c]?.name??c.toUpperCase()})})})}),f.map((p,b)=>l(p.query,p.queryType,p.description,b+1))]},c)})})}),e.jsx(Y.Footer,{children:e.jsx(W,{variant:"primary",onClick:()=>i("close"),children:r("search.suggestionsModal.buttonClose")})})]})}function Xt({disabled:t,value:s,onChange:n,delay:r=300}){const[a,o]=h.useState(s??""),i=Gt(a,r);return h.useEffect(()=>{n(i)},[n,i]),e.jsx(z.Control,{type:"search",placeholder:"Search for ...",value:a,onChange:u=>o(u.target.value),disabled:t})}const Xe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bank" viewBox="0 0 16 16">
  <path d="m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.5.5 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89zM3.777 3h8.447L8 1zM2 6v7h1V6zm2 0v7h2.5V6zm3.5 0v7h1V6zm2 0v7H12V6zM13 6v7h1V6zm2-1V4H1v1zm-.39 9H1.39l-.25 1h13.72z"/>
</svg>`,Jt=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
  <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"/>
</svg>`;function yt({resource:t,selectedResourceIDs:s,highlighting:n,highlightings:r,shouldBeShown:a,localeForInfos:o,onSelectClick:i,languageCodeToName:u}){const{t:l}=Z(),[c,f]=h.useState(!1),[p,b]=h.useState(!1);n??=r?.get(t.id)??[null,null,null];const N=s.includes(t.id),S=Ye(t),T=xe(d=>d.locale),[j,L]=h.useState(T);if(h.useEffect(()=>{T&&L(T)},[T]),h.useEffect(()=>{o&&L(o)},[o]),typeof a=="function"&&!a(t))return null;if(a===!1)return null;const E=typeof a=="function"?t.subResources.some(d=>a(d)):!0;function x(){c&&document.getSelection()?.type==="Range"||f(d=>!d)}function k(){i(t,!N)}function D(){b(d=>!d)}return e.jsxs(e.Fragment,{children:[e.jsxs(X,{className:`p-2 m-1 ${c&&"border-bottom"}`,children:[e.jsx(A,{md:"auto",sm:1,onClick:k,children:e.jsx(z.Check,{id:`resource-selection-${t.id}`,"aria-label":l("search.results.resourceInfo.checkboxResourceAriaLabel",{title:t.title}),children:e.jsx(z.Check.Input,{checked:N,onChange:()=>{}})})}),e.jsxs(A,{md:8,sm:11,className:`mb-sm-2 ${c?"":"text-truncate"}`,onClick:x,children:[e.jsxs("h4",{className:`h5 ${c?"":"text-truncate"}`,children:[e.jsx(ae.Highlight,{text:P(t.title,j)??"",ranges:n[0]})," ",t.landingPage&&e.jsx("small",{children:e.jsxs("a",{href:t.landingPage,className:"matomo_link",target:"_blank",children:[l("search.resourcesModal.resource.moreInformation")," ",e.jsx("i",{dangerouslySetInnerHTML:{__html:Jt}})]})})]}),e.jsx("p",{className:`mb-0 ${c?"":"text-truncate"}`,children:P(t.description,j)&&e.jsx(ae.Highlight,{text:P(t.description,j)??"",ranges:n[2]})})]}),e.jsxs(A,{md:{span:3,offset:0},sm:{span:11,offset:1},className:`${c?"":" text-truncate"}`,onClick:x,children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Xe}})," ",e.jsx(ae.Highlight,{text:P(t.institution,j)??"",ranges:n[1]}),e.jsx("br",{}),e.jsx("i",{dangerouslySetInnerHTML:{__html:ke}})," ",t.languages.map(u).sort().join(", "),c&&S.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(Qe,{type:"radio",name:`resources-${t.id}-info-languages`,defaultValue:j,onChange:d=>L(d),onClick:d=>d.stopPropagation(),className:"mt-2",children:S.toSorted().map(d=>e.jsx(Ee,{variant:"outline-secondary",size:"sm",id:`resources-${t.id}-info-languages-${d}`,value:d,type:"radio",children:d},d))})]})]}),E&&t.subResources.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-100"}),e.jsx(A,{md:"auto",sm:1,style:{width:"2.8rem"}}),e.jsx(A,{md:{span:8,offset:0},sm:{span:11,offset:1},children:e.jsx(W,{variant:"link",size:"sm",className:"ps-0",onClick:D,children:l("search.resourcesModal.resource.toggleExpand",{context:p?"collapse":"expand",count:t.subResources.length})})})]})]}),E&&p&&e.jsx(te,{className:"ms-md-5 ms-sm-2 border-end-0 border-top-0 rounded-end-0 rounded-top-0",children:t.subResources.map(d=>e.jsx(yt,{resource:d,highlightings:r,selectedResourceIDs:s,shouldBeShown:a,onSelectClick:i,languageCodeToName:u},d.id))})]})}function It({title:t,resources:s,selectedResourceIDs:n,resourceScores:r,highlightings:a,expanded:o,shouldBeShown:i,localeForInfos:u,onSelectClick:l,onExpandToggleClick:c,onSelectAllClick:f,onDeselectAllClick:p,languageCodeToName:b}){const{t:N}=Z(),[S,T]=h.useState(o);h.useEffect(()=>{T(o)},[o]);const j=r!==void 0?s.filter(x=>r.has(x.id)).toSorted((x,k)=>{const D=r.get(x.id),d=r.get(k.id);return D===d?0:D===void 0?1:d===void 0?-1:D-d}):s;if(j.length===0)return null;function L(){T(x=>!x),c(!S)}function E(){const x=s.filter(O=>!O.rootResourceId),k=me(x).length,D=x.length,d=me(x).filter(O=>n.includes(O)).length;return N("search.resourcesModal.grouped.msgResources",{count:D,nested:k-D,context:k-D?"nested":null})+(d!==k?N("search.resourcesModal.grouped.msgResourcesSelected",{count:d}):"")}return e.jsxs(se,{className:"border-bottom pb-2 mb-4 px-0",children:[e.jsxs(X,{className:"px-3",children:[e.jsx(A,{md:9,sm:12,children:e.jsx("h3",{children:t})}),e.jsxs(A,{md:3,sm:12,className:"gap-1 d-inline-flex column-gap-2 justify-content-evenly",style:{height:"fit-content"},children:[e.jsx(W,{size:"sm",variant:"secondary",onClick:L,"aria-expanded":S,children:N("search.resourcesModal.grouped.buttonExpand",{context:S?"hide":"show"})}),e.jsx(W,{size:"sm",onClick:()=>f(s),children:N("search.resourcesModal.grouped.buttonSelectAll")}),e.jsx(W,{size:"sm",onClick:()=>p(s),children:N("search.resourcesModal.grouped.buttonDeselectAll")})]})]}),e.jsx(X,{className:"px-3",children:e.jsx(A,{children:E()})}),e.jsx(Dt,{in:S,children:e.jsx(se,{children:j.map(x=>e.jsx(yt,{resource:x,highlightings:a,selectedResourceIDs:n,shouldBeShown:i,onSelectClick:l,languageCodeToName:b,localeForInfos:u},x.id))})})]})}function Un(t,s,n){const r=Sn(s),a=ae.useFuzzySearchList({list:r,queryText:t,getText:p=>[P(p.title,n),P(p.institution,n),P(p.description,n)],mapResultItem:({item:p,score:b,matches:N})=>({resource:p,matches:N,score:b})}),o=a.reduce((p,{resource:b,matches:N})=>(p.set(b.id,N),p),new Map),i=a.reduce((p,{resource:b,score:N})=>p.set(b.id,N),new Map),u=new Set;a.filter(({resource:p})=>p.rootResourceId!==null).forEach(({resource:p,score:b})=>{const N=i.get(p.rootResourceId);N===void 0?(u.add(p.rootResourceId),i.set(p.rootResourceId,b)):b<N&&i.set(p.rootResourceId,b)});const l=s.filter(p=>u.has(p.id)).map(p=>({resource:p,score:i.get(p.id)}));return{resources:[...a.filter(({resource:p})=>!p.rootResourceId),...l].toSorted(({score:p},{score:b})=>p===b?0:p===void 0?1:b===void 0?-1:p-b).map(({resource:p})=>p),matches:o,scores:i}}function Hn({show:t,showGrouping:s,resources:n,languages:r,availableResources:a,selectedResources:o,onModalClose:i}){const{t:u}=Z(),l=xe(y=>y.locale),[c,f]=h.useState(l);h.useEffect(()=>{l&&f(l)},[l]);const p=new Intl.DisplayNames([l,"en"],{type:"language"}),[b,N]=h.useState(o||a),[S,T]=h.useState(fn),[j,L]=h.useState(Kt),[E,x]=h.useState(xn),[k,D]=h.useState(""),[d,O]=h.useState({}),[U,q]=h.useState({});h.useEffect(()=>{s&&L(s)},[t,s]),h.useEffect(()=>N(o),[o]);const v=n.filter(y=>a.includes(y.id)).toSorted(In[E]),Q=v.map(y=>Ye(y)).flat().reduce((y,V)=>y.set(V,(y.get(V)??0)+1),new Map),{resources:w,matches:g,scores:I}=Un(k,v,c),B=h.useMemo(()=>{const y=new Map;return j==="institution"?Object.entries(d).forEach(([V,G])=>{y.set(V,G.resources.reduce(($,ce)=>{const oe=I.get(ce.id);return oe===void 0?$:$===void 0?oe:$<oe?$:oe},void 0))}):j==="language"&&Object.entries(U).forEach(([V,G])=>{y.set(V,G.resources.reduce(($,ce)=>{const oe=I.get(ce.id);return oe===void 0?$:$===void 0?oe:$<oe?$:oe},void 0))}),y},[j,I,d,U]);if(h.useMemo(()=>{const y={},V={};n.forEach(G=>{const $=P(G.institution,c)??"";Object.getOwnPropertyNames(y).includes($)||(y[$]={expanded:!0,resources:[]}),y[$].resources.push(G),G.languages.forEach(ce=>{Object.getOwnPropertyNames(V).includes(ce)||(V[ce]={expanded:!0,resources:[]}),V[ce].resources.push(G)})}),O(y),q(V)},[n,c]),!n)return null;const M={total:me(n).length,totalRoot:n.length,available:a.length,selected:b.length,visible:me(w.map(y=>y)).length,visibleRoot:w.length};function m(y){return We(y,r,{defaultAnyLanguage:u("languageCodeToName.any",{ns:"common"}),defaultUnknownLanguage:u("languageCodeToName.unknown",{ns:"common"})})}function R(y,V){const G=b.filter($=>!y.includes($));N(V?[...G,...y]:G)}function ee(y){i({resourceIDs:b,action:y})}function le(y){T(y.target.value)}function ye(y){L(y.target.value)}function Me(y){x(y.target.value)}function Le(){N(a)}function Ze(){N([])}function Pe(){N(w.map(y=>y.id))}function je(y,V){R(me([y]),V)}function Oe(y){R(me(y),!0)}function Ue(y){R(me(y),!1)}function Re(y){return!(!a.includes(y.id)||S==="selected"&&!b.includes(y.id)&&!Qt(y,V=>b.includes(V.id)))}function et(){return j==="institution"?Object.entries(d).toSorted(([y],[V])=>{const G=B.get(y),$=B.get(V);return G===$?0:G===void 0?1:$===void 0?-1:G-$}).map(([y,{expanded:V,resources:G}])=>e.jsx(It,{title:e.jsxs(e.Fragment,{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Xe}})," ",y]}),resources:G,selectedResourceIDs:b,resourceScores:I,highlightings:g,expanded:V,shouldBeShown:Re,onSelectAllClick:Oe,onExpandToggleClick:$=>{O({...d,[y]:{...d[y],expanded:$}})},onDeselectAllClick:Ue,onSelectClick:je,languageCodeToName:m,localeForInfos:c},y)):j==="language"?Object.entries(U).toSorted(([y],[V])=>{const G=B.get(y),$=B.get(V);return G===$?0:G===void 0?1:$===void 0?-1:G-$}).map(([y,{expanded:V,resources:G}])=>e.jsx(It,{title:e.jsxs(e.Fragment,{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ke}})," ",m(y)," [",y,"]"]}),resources:G,selectedResourceIDs:b,resourceScores:I,highlightings:g,expanded:V,shouldBeShown:Re,onSelectAllClick:Oe,onExpandToggleClick:$=>U[y].expanded=$,onDeselectAllClick:Ue,onSelectClick:je,languageCodeToName:m,localeForInfos:c},y)):w.filter(y=>!y.rootResourceId).map(y=>e.jsx(yt,{resource:y,selectedResourceIDs:b,highlighting:g.get(y.id),highlightings:g,shouldBeShown:Re,onSelectClick:je,languageCodeToName:m,localeForInfos:c},y.id))}return e.jsxs(Y,{id:"resource-selection-modal",show:t,onHide:()=>ee("close"),size:"xl",fullscreen:"xl-down",centered:!0,children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:u("search.resourcesModal.title")})}),e.jsxs(Y.Body,{className:"px-0",children:[e.jsx(z,{className:"px-3 pb-3 border-bottom",onSubmit:y=>y.preventDefault(),children:e.jsxs(se,{children:[e.jsxs(X,{className:"d-sm-flex row-gap-2 justify-content-around",children:[e.jsx(A,{md:2,sm:6,children:e.jsx(ge,{label:"View",controlId:"resource-view-options-visibility",children:e.jsxs(z.Select,{value:S,onChange:le,children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"selected",children:"Selected only"})]})})}),e.jsx(A,{md:2,sm:6,children:e.jsx(ge,{label:"Group by",controlId:"resource-view-options-grouping",children:e.jsxs(z.Select,{value:j,onChange:ye,children:[e.jsx("option",{value:"resource",children:"(Resource)"}),e.jsx("option",{value:"institution",children:"Institution"}),e.jsx("option",{value:"language",children:"Language"})]})})}),e.jsx(A,{md:2,sm:6,children:e.jsx(ge,{label:"Sort by",controlId:"resource-view-options-sorting",children:e.jsxs(z.Select,{value:E,onChange:Me,disabled:j!=="resource"||k.trim()!=="",children:[e.jsx("option",{value:"title-up",children:"Title (up)"}),e.jsx("option",{value:"title-down",children:"Title (down)"}),e.jsx("option",{value:"institution-up",children:"Institution (up)"}),e.jsx("option",{value:"institution-down",children:"Institution (down)"})]})})}),e.jsx(A,{md:3,sm:12,children:e.jsx(ge,{label:"Resource filter query",controlId:"resource-view-options-filter",children:e.jsx(Xt,{value:k,onChange:y=>D(y)})})}),e.jsxs(A,{md:3,sm:12,className:"gap-1 d-inline-flex column-gap-2 justify-content-evenly",children:[e.jsx(W,{onClick:Le,children:"Select all"}),e.jsx(W,{onClick:Pe,disabled:S!=="all"||k.trim()==="",children:"Select visible"}),e.jsx(W,{onClick:Ze,children:"Deselect all"})]})]}),Q.size>1&&e.jsxs(z.Group,{as:X,controlId:"resource-info-language",className:"mt-2",children:[e.jsx(z.Label,{column:!0,sm:"auto",style:{fontSize:"0.875rem"},children:u("search.resourcesModal.labelChangeResourceInfoLanguage")}),e.jsx(A,{sm:"auto",children:e.jsx(Qe,{type:"radio",name:"resource-info-languages",defaultValue:c,onChange:y=>f(y),children:Array.from(Q.entries()).toSorted().map(([y,V])=>e.jsxs(Ee,{size:"sm",id:`resource-info-languages-${y}`,value:y,variant:"secondary",title:u("search.resourcesModal.buttonChangeResourceInfoLanguageTitle",{count:V,language:y,languageName:p.of(y)}),children:[p.of(y)," ",e.jsx("sup",{children:y})]},y))})})]})]})}),e.jsx("p",{className:"m-4 mb-0",children:u("search.resourcesModal.msgResourcesSelected",{count:M.selected,total:M.visible,available:M.available,context:M.available!==M.visible?"available":null})}),e.jsx(se,{className:"px-3 pt-3",children:et()})]}),e.jsx(Y.Footer,{children:e.jsx(W,{variant:"primary",onClick:()=>ee("confirm"),children:u("search.resourcesModal.buttonConfirm")})})]})}function Dn(){const[t,s]=h.useState(!1);return[t,()=>{t!==!0&&s(!0)}]}function Fn(){const t=Pt(),{hash:s}=ht(),n=h.useMemo(()=>new URLSearchParams(s.substring(1)),[s]),r=h.useCallback(a=>{const o=ds(typeof a=="function"?a(new URLSearchParams(n)):a),i=o.entries().next().done?"":`#${o}`;s!==i&&t({hash:i})},[n,s,t]);return[n,r]}const qn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-balloon" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 9.984C10.403 9.506 12 7.48 12 5a4 4 0 0 0-8 0c0 2.48 1.597 4.506 4 4.984M13 5c0 2.837-1.789 5.227-4.52 5.901l.244.487a.25.25 0 1 1-.448.224l-.008-.017c.008.11.02.202.037.29.054.27.161.488.419 1.003.288.578.235 1.15.076 1.629-.157.469-.422.867-.588 1.115l-.004.007a.25.25 0 1 1-.416-.278c.168-.252.4-.6.533-1.003.133-.396.163-.824-.049-1.246l-.013-.028c-.24-.48-.38-.758-.448-1.102a3 3 0 0 1-.052-.45l-.04.08a.25.25 0 1 1-.447-.224l.244-.487C4.789 10.227 3 7.837 3 5a5 5 0 0 1 10 0m-6.938-.495a2 2 0 0 1 1.443-1.443C7.773 2.994 8 2.776 8 2.5s-.226-.504-.498-.459a3 3 0 0 0-2.46 2.461c-.046.272.182.498.458.498s.494-.227.562-.495"/>
</svg>`,Be=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
  <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
</svg>`,zn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-highlights" viewBox="0 0 16 16">
  <path d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0m-8 5v1H4.5a.5.5 0 0 0-.093.009A7 7 0 0 1 3.1 13zm0-1H2.255a7 7 0 0 1-.581-1H8zm-6.71-2a7 7 0 0 1-.22-1H8v1zM1 8q0-.51.07-1H8v1zm.29-2q.155-.519.384-1H8v1zm.965-2q.377-.54.846-1H8v1zm2.137-2A6.97 6.97 0 0 1 8 1v1z"/>
</svg>`,Bn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
</svg>`,Vn=h.lazy(()=>ne(()=>import("./fcs-sru-aggregator-ui-query-builder-0.0.0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url));function Et(t,s=""){const n=t.get("query");return n||s}function _t(t,s="cql"){const n=t.get("queryType");if(n){if(bt.find(r=>r.id===n)!==void 0)return n;console.warn("Found unsupported queryType in search params",n)}return s}function $n({resources:t,languages:s,onSearch:n,onShowToast:r,availableResources:a=null,selectedResources:o=null,hasSearch:i=!1,disabled:u=!1}){const{t:l}=Z(),[c,f]=Ke(),[p,b]=Fn(),[N,S]=h.useState(!1),[T,j]=h.useState(Kt),[L,E]=h.useState(!1),[x,k]=h.useState(!1),[D,d]=h.useState(!1),[O,U]=Dn(),[q,v]=h.useState(de),[_,Q]=h.useState(lt),[w,g]=h.useState(_t(c,Mn)),[I,B]=h.useState(a??[]),[M,m]=h.useState(o??[]),[R,ee]=h.useState(ze[0]),[le,ye]=h.useState(Et(c,"")),[Me]=h.useState(null),[Le,Ze]=h.useState(!1);h.useEffect(()=>{m(o??[])},[o]);const Pe=h.useCallback(C=>{const H=yn(C,w,_==="byGuess"?de:q);return a&&a.length>0?H.filter(ie=>a.includes(ie)):H},[w,q,_,a]);h.useEffect(()=>{const C=Pe(t);B(C),m(H=>H.filter(ie=>C.includes(ie)))},[t,Pe]);const je=h.useCallback(()=>{const C={language:q,languageFilter:_,queryType:w,query:le,resourceIDs:M??[],numberOfResults:R};C.query!==""&&C.resourceIDs.length!==0&&n(C)},[q,_,R,n,le,w,M]);h.useEffect(()=>{if(c&&(ye(H=>Et(c,H)),g(H=>_t(c,H)),!c.get("x-aggregation-context"))){const H=c.get("mode");H&&(H==="search"&&je(),c.delete("mode"),f(c))}},[c,f,je]),h.useEffect(()=>{c.get("query")!==le&&(c.set("query",le),f(c))},[le,c,f]),h.useEffect(()=>{c.get("queryType")!==w&&(c.set("queryType",w),f(c))},[w,c,f]),h.useEffect(()=>{p.has("openQueryBuilder")&&(U(),d(!0),p.delete("openQueryBuilder"),b(p))},[p,b,U]);const Oe=wn(t,M??[]).length,Ue=t.find(C=>C.searchCapabilitiesResolved.includes("ADVANCED_SEARCH"))!==void 0,Re=t.find(C=>C.searchCapabilitiesResolved.includes("LEX_SEARCH"))!==void 0,et=Tt.includes(w);function y(C){C&&g(C)}function V(C){let H=Number.parseInt(C.target.value);H<10&&(H=10),H>250&&(H=250),ze.includes(H)||console.warn("Invalid number of results?!",{valid:ze,value:H}),ee(H)}function G({language:C,filter:H,action:ie}){E(!1),ie!=="abort"&&(v(C),Q(H))}function $({resourceIDs:C,action:H}){S(!1),H!=="abort"&&m(C)}function ce({query:C,queryType:H,action:ie}){k(!1),ie!=="abort"&&ie!=="close"&&(!C||!H||(g(H),ye(C)))}function oe({query:C,validResources:H,action:ie}){d(!1),ie!=="abort"&&ie!=="close"&&(ye(C),M.length!==H.length&&r?.({title:l("search.toasts.searchInput.title"),body:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:l("search.toasts.searchInput.msgResourcesChangedDueToQuery")}),e.jsx("p",{children:l("search.toasts.searchInput.msgResourcesAmountChanged",{before:M.length,after:H.length})}),e.jsx("hr",{}),e.jsx(W,{onClick:()=>m(M),children:l("search.toasts.searchInput.buttonRevertSelection")})]}),variant:"info",delay:7e3}),m(H))}function wt(C){ye(C)}function rs(C){C.preventDefault(),je()}function as(){const C=(M??[]).length,H=t.length===C||I.length===C?"all":null;return l("search.searchInput.buttonSelectedResources",{count:C,context:H})}return e.jsxs("search",{id:"fcs-query",children:[e.jsxs(z,{noValidate:!0,onSubmit:rs,children:[e.jsxs(vs,{size:i?void 0:"lg",hasValidation:!0,children:[e.jsx(W,{variant:"outline-secondary",type:"button",id:"fcs-search-query-suggestions-button","aria-label":l("search.searchInput.buttonOpenQuerySuggestions"),onClick:()=>k(!0),children:e.jsx("i",{dangerouslySetInnerHTML:{__html:qn},"aria-hidden":"true"})}),e.jsx(z.Control,{placeholder:"Elephant","aria-label":l("search.searchInput.inputQueryAriaLabel"),"aria-describedby":"fcs-search-input-button",className:"text-center search-query-input",disabled:u,"aria-disabled":u,value:le,isInvalid:!!Me,...Le?{as:Yt,queryType:w,onChange:wt}:{onChange:C=>wt(C.target.value)}}),et&&e.jsx(W,{id:"fcs-search-input-query-builder-button",variant:"outline-secondary","aria-label":l("search.searchInput.buttonOpenQueryBuilderAriaLabel"),className:"border-end-0 d-none d-md-block",onClick:()=>{U(),d(!0)},children:e.jsx("i",{dangerouslySetInnerHTML:{__html:it},"aria-hidden":"true"})}),e.jsx(Ee,{id:"fcs-search-input-enhanced-button",value:"enhance-query",type:"checkbox",checked:Le,onChange:()=>Ze(C=>!C),variant:"outline-secondary","aria-label":l("search.searchInput.buttonEnhanceQueryAriaLabel",{context:Le?"enabled":"disabled"}),className:"d-flex align-items-center border-end-0",children:e.jsx("i",{dangerouslySetInnerHTML:{__html:zn},"aria-hidden":"true"})}),e.jsxs(W,{variant:"outline-primary",type:"submit",id:"fcs-search-input-button",disabled:u||le.trim().length===0,"aria-disabled":u,"aria-label":l("search.searchInput.buttonSearchAriaLabel"),children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Bn},"aria-hidden":"true",className:"d-inline d-md-none"}),e.jsx("span",{className:"d-none d-md-inline",children:l("search.searchInput.buttonSearch")})]}),e.jsx(z.Control.Feedback,{type:"invalid",children:Me?.msg})]}),e.jsx("div",{id:"fcs-query-filters",className:"mt-2 mb-3 lh-lg text-center",children:e.jsx(F,{i18nKey:"search.searchInput.filtersSummary",components:[e.jsxs(pe,{className:"d-inline-block",onSelect:y,"aria-disabled":u,"aria-label":l("search.searchInput.dropdownQueryTypeAriaLabel"),children:[e.jsxs(pe.Toggle,{size:"sm",variant:"outline-dark",className:"mx-1 pe-2 no-arrow",disabled:u,"aria-disabled":u,style:Ve[w]?{"--color":Ve[w].color}:{},children:[l(`queryTypes.${w}.nameShort`,{ns:"common",defaultValue:Ve[w]?.searchLabel??w.toUpperCase()})," ",e.jsx("i",{dangerouslySetInnerHTML:{__html:Be},"aria-hidden":"true"})]}),e.jsx(pe.Menu,{children:bt.filter(C=>C.id==="cql"||C.id==="fcs"&&Ue||C.id==="lex"&&Re).map(C=>e.jsx(pe.Item,{as:"button",eventKey:C.id,onClick:H=>H.preventDefault(),style:{"--color":C.color,background:"color-mix(in srgb, var(--color) 50%, transparent)"},children:l(`queryTypes.${C.id}.nameLong`,{ns:"common",defaultValue:C.name})},C.id))})]}),e.jsxs(W,{size:"sm",variant:"outline-dark",className:"mx-1 pe-2",disabled:u,"aria-disabled":u,onClick:()=>{j("resource"),S(!0)},children:[as()," ",e.jsx("i",{dangerouslySetInnerHTML:{__html:Be},"aria-hidden":"true"})]}),e.jsxs(W,{size:"sm",variant:"outline-dark",className:"mx-1 pe-2",disabled:u,"aria-disabled":u,onClick:()=>{j("institution"),S(!0)},children:[l("search.searchInput.buttonSelectedInstitutions",{count:Oe})," ",e.jsx("i",{dangerouslySetInnerHTML:{__html:Be},"aria-hidden":"true"})]}),e.jsxs(W,{size:"sm",variant:"outline-dark",className:"mx-1 pe-2",onClick:()=>E(!0),disabled:u,"aria-disabled":u,children:[We(q,s??{},{defaultAnyLanguage:l("languageCodeToName.any",{ns:"common"}),defaultUnknownLanguage:l("languageCodeToName.unknown",{ns:"common"})})," ",e.jsx("i",{dangerouslySetInnerHTML:{__html:Be},"aria-hidden":"true"})]}),e.jsx(z.Select,{size:"sm",className:"d-inline-block w-auto mx-1",onChange:V,value:R,"aria-label":l("search.searchInput.selectNumberOfSearchResultsAriaLabel"),disabled:u,"aria-disabled":u,children:ze.map(C=>e.jsx("option",{value:C,children:C},C))})]})})]}),e.jsx(An,{languages:s,resources:t,searchLanguage:q,show:L,onModalClose:G}),e.jsx(Hn,{resources:t,languages:s,availableResources:I,selectedResources:M??[],show:N,showGrouping:T,onModalClose:$}),e.jsx(On,{queryTypes:[w],show:x,onModalClose:ce}),Tt.includes(w)&&O&&e.jsx(h.Suspense,{fallback:e.jsx(e.Fragment,{children:l("loading",{ns:"querybuilder",defaultValue:l("generic.loadingComponent",{ns:"common"})})}),children:e.jsx(Vn,{query:le,queryType:w,resources:t,selectedResources:M,show:D,onModalClose:oe})})]})}const Kn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
  <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
</svg>`;function Qn({searchId:t,resourceId:s,numberOfResults:n,pollDelay:r=1500}){const{t:a}=Z(),o=ve(),i=Ot(),[u,l]=h.useState(!1),{isPending:c,mutate:f,reset:p}=Ut({mutationFn:Ms.bind(null,o,t,{resourceId:s,numberOfResults:n}),mutationKey:["search-result-load-more",t,s],onSuccess:async x=>{x!==void 0&&t!==x&&console.warn("SearchIDs should be the same?!",{searchId:t,searchIdNewButSame:x,resourceId:s}),await i.invalidateQueries({queryKey:["search-results",t,s]}),l(!0)}});r??=1500;const{data:b,isLoading:N,isFetching:S}=Ie({queryKey:["search-results",t,s],queryFn:Os.bind(null,o,t,s),enabled:u,refetchInterval(x){return x.state.data&&x.state.data.inProgress?r:!1}}),T=c||N||S,j=!!b&&!b.inProgress,L=T||u;u&&j&&(u&&l(!1),i.invalidateQueries({queryKey:["search-result-details",t,s]}));async function E(){p(),f()}return e.jsx(W,{className:"more-results-button",disabled:L,onClick:E,children:L?e.jsx(Ft,{animation:"border",className:"d-block"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Kn}})," ",a("search.results.buttonLoadMore")]})})}const Je=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg>`;function Zt({data:t}){const s=h.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(mt,{hover:!0,responsive:!0,className:"mb-0 results-kwic",children:[e.jsx("thead",{className:"visually-hidden",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"References"}),e.jsx("th",{scope:"col",children:"Left Context"}),e.jsx("th",{scope:"col",children:"Hit"}),e.jsx("th",{scope:"col",children:"Right Context"})]})}),e.jsx("tbody",{children:t.records.map((n,r)=>e.jsxs("tr",{children:[e.jsx("td",{scope:"row",className:"result-idx text-end text-muted d-none d-sm-table-cell",children:r+1}),e.jsxs("td",{scope:"row",className:"result-refs",children:[n.ref&&e.jsx("a",{href:n.ref,className:"matomo_link",target:"_blank",children:e.jsx("i",{dangerouslySetInnerHTML:{__html:Je}})})," ",n.pid&&e.jsx(Se,{placement:"auto-start",container:s,delay:{show:250,hide:400},overlay:e.jsx(_e,{id:`ttip-${n.pid}-${r}`,children:n.pid}),children:e.jsx(be,{bg:"secondary",className:"pid-badge",children:"PID"})})]}),e.jsx("td",{children:n.hits.left}),e.jsx("td",{children:n.hits.keyword&&e.jsx("mark",{children:e.jsx("strong",{children:n.hits.keyword})})}),e.jsx("td",{children:n.hits.right})]},`${n.pid??n.ref??t.resource.id}-${r}`))})]}),e.jsx("div",{ref:s,className:"tooltip-mounting-point"})]})}function es({data:t}){const s=h.useRef(null);return e.jsxs("div",{className:"results-lexical-entry d-flex flex-column flex-wrap column-gap-2 row-gap-2",children:[t.records.map((n,r)=>e.jsx(te,{className:"flex-grow-1",children:e.jsxs(te.Body,{children:[e.jsx(te.Title,{children:n.lex.fields.filter(a=>a.type==="lemma").map(a=>a.values).flat(1).map(a=>e.jsx("span",{children:a.value}))}),e.jsxs(tt,{variant:"flush",children:[(n.lex.lang||n.lex.langUri)&&e.jsxs(tt.Item,{children:[e.jsx("strong",{children:"lang"}),": ",n.lex.lang," ",n.lex.langUri]}),n.lex.fields.filter(a=>a.type!=="lemma").map(a=>e.jsxs(tt.Item,{children:[e.jsx("strong",{children:a.type}),":",a.values.map((o,i)=>e.jsx("span",{className:"ms-2 lex-value",children:o.value},i))]},a.type))]}),e.jsx(te.Link,{children:n.ref&&e.jsxs("a",{href:n.ref,className:"matomo_link",target:"_blank",children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Je}})," Original results ..."]})}),e.jsx(te.Link,{children:n.pid&&e.jsx(Se,{placement:"auto-start",container:s,delay:{show:250,hide:400},overlay:e.jsx(_e,{id:`ttip-${n.pid}-${r}`,children:n.pid}),children:e.jsx(be,{bg:"secondary",className:"pid-badge",children:"PID"})})})]})},`${n.pid??n.ref??t.resource.id}-${r}`)),e.jsx("div",{ref:s,className:"tooltip-mounting-point"})]})}function ts({data:t}){const s=h.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(mt,{hover:!0,responsive:!0,className:"mb-0 results-lex-plain",children:[e.jsx("thead",{className:"visually-hidden",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"References"}),e.jsx("th",{scope:"col",children:"Result with Hit"})]})}),e.jsx("tbody",{children:t.records.map((n,r)=>e.jsxs("tr",{children:[e.jsx("td",{scope:"row",className:"result-idx text-end text-muted d-none d-sm-table-cell",children:r+1}),e.jsxs("td",{scope:"row",className:"result-refs",children:[n.ref&&e.jsx("a",{href:n.ref,className:"matomo_link",target:"_blank",children:e.jsx("i",{dangerouslySetInnerHTML:{__html:Je}})})," ",n.pid&&e.jsx(Se,{placement:"auto-start",container:s,delay:{show:250,hide:400},overlay:e.jsx(_e,{id:`ttip-${n.pid}-${r}`,children:n.pid}),children:e.jsx(be,{bg:"secondary",className:"pid-badge",children:"PID"})})]}),e.jsx("td",{children:n.hits.fragments.map((a,o)=>a.hit&&!a.hitKind?e.jsx("mark",{children:e.jsx("strong",{children:a.text})},o):a.hit&&a.hitKind?e.jsx("span",{className:`lex-hitkind-${a.hitKind}`,title:`Annotated as "${a.hitKind.split("-").slice(1).join("-")}"`,children:a.text},o):e.jsx("span",{children:a.text},o))})]},`${n.pid??n.ref??t.resource.id}-${r}`))})]}),e.jsx("div",{ref:s,className:"tooltip-mounting-point"})]})}function ss({data:t}){const s=h.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(mt,{hover:!0,responsive:!0,className:"mb-0 results-plain",children:[e.jsx("thead",{className:"visually-hidden",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"References"}),e.jsx("th",{scope:"col",children:"Result with Hit"})]})}),e.jsx("tbody",{children:t.records.map((n,r)=>e.jsxs("tr",{children:[e.jsx("td",{scope:"row",className:"result-idx text-end text-muted d-none d-sm-table-cell",children:r+1}),e.jsxs("td",{scope:"row",className:"result-refs",children:[n.ref&&e.jsx("a",{href:n.ref,className:"matomo_link",target:"_blank",children:e.jsx("i",{dangerouslySetInnerHTML:{__html:Je}})})," ",n.pid&&e.jsx(Se,{placement:"auto-start",container:s,delay:{show:250,hide:400},overlay:e.jsx(_e,{id:`ttip-${n.pid}-${r}`,children:n.pid}),children:e.jsx(be,{bg:"secondary",className:"pid-badge",children:"PID"})})]}),e.jsx("td",{children:n.hits.fragments.map((a,o)=>a.hit&&!a.hitKind?e.jsx("mark",{children:e.jsx("strong",{children:a.text})},o):e.jsx("span",{children:a.text},o))})]},`${n.pid??n.ref??t.resource.id}-${r}`))})]}),e.jsx("div",{ref:s,className:"tooltip-mounting-point"})]})}const Gn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
  <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
</svg>`,Wn=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-arrow-up" viewBox="0 0 16 16">
  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4.5a.5.5 0 0 1-1 0V5.383l-7 4.2-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h5.5a.5.5 0 0 1 0 1H2a2 2 0 0 1-2-1.99zm1 7.105 4.708-2.897L1 5.383zM1 4v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1"/>
  <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.354-5.354 1.25 1.25a.5.5 0 0 1-.708.708L13 12.207V14a.5.5 0 0 1-1 0v-1.717l-.28.305a.5.5 0 0 1-.737-.676l1.149-1.25a.5.5 0 0 1 .722-.016"/>
</svg>`,ns=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
</svg>`;function Yn({show:t,searchId:s,resourceId:n,result:r,viewMode:a,showDiagnostics:o,onModalClose:i}){const u=ve(),{t:l}=Z(),c=xe(g=>g.locale),{languages:f,weblichtLanguages:p}=pt(),{numberOfResults:b,queryType:N,language:S,languageFilter:T}=jt(),[j,L]=h.useState(c);h.useEffect(()=>{c&&L(c)},[c]);const E=new Intl.DisplayNames([c,"en"],{type:"language"}),[x,k]=h.useState(o);h.useEffect(()=>k(o),[o]);const[D,d]=h.useState(a);h.useEffect(()=>d(a),[a]);const O=Ye(r.resource),U=r.exception||r.diagnostics?.filter(g=>g.uri!==fe).length>0;function q(){return!r||r.nextRecordPosition===-1||r.numberOfRecords===-1?!1:(r.numberOfRecords===r.records.length,!0)}let v=null,_=!1;if(!p.includes(S)){if(S===de)if(r.resource.languages&&r.resource.languages.length===1)v=r.resource.languages[0];else{const g=[...new Set(r.records.map(I=>I.lang).filter(I=>I!==null))];g.length===1&&(v=g[0])}v||(console.warn("Cannot use WebLicht: unsupported language",{language:S,languageFilter:T}),_=!0)}function Q(g){d(g.target.value)}function w(){return r?D==="kwic"&&(N!=="lex"||!r.isLexHits)?e.jsx(Zt,{data:r}):D==="lexical-entry"?e.jsx(es,{data:r}):N==="lex"&&r.isLexHits?e.jsx(ts,{data:r}):e.jsx(ss,{data:r}):null}return e.jsxs(Y,{show:t,onHide:()=>i(),size:"xl",fullscreen:"lg-down",centered:!0,className:"resource-search-result-modal",children:[e.jsx(Y.Header,{closeButton:!0,children:e.jsx(Y.Title,{children:P(r.resource.title,j)})}),e.jsxs(Y.Body,{className:"resource-info",children:[e.jsxs("dl",{className:"mb-0","aria-label":l("search.results.resourceInfo.infoTableAriaLabel"),children:[e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Xe}})," ",l("search.results.resourceInfo.labelInstitution")]}),e.jsx("dd",{className:"mb-0",children:P(r.resource.institution,j)}),e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ns}})," ",l("search.results.resourceInfo.labelDescription")]}),P(r.resource.description,j)&&e.jsxs(e.Fragment,{children:[e.jsx("dd",{className:"mb-0",children:P(r.resource.description,j)}),e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ke}})," ",l("search.results.resourceInfo.labelLanguages")]})]}),e.jsx("dd",{className:"mb-0",children:r.resource.languages.map(f?g=>We(g,f,{defaultAnyLanguage:l("languageCodeToName.any",{ns:"common"}),defaultUnknownLanguage:l("languageCodeToName.unknown",{ns:"common"})}):g=>g).toSorted().join(", ")}),O&&O.length>1&&e.jsx(Qe,{type:"radio",name:`${r.resource.id}-result-modal-info-languages`,defaultValue:j,onChange:g=>L(g),className:"mt-2 mb-3",children:O.toSorted().map(g=>e.jsxs(Ee,{variant:"outline-secondary",size:"sm",id:`${r.resource.id}-result-modal-info-languages-${g}`,value:g,children:[E.of(g)," ",e.jsx("sup",{children:g})]},g))}),e.jsx("dt",{children:l("search.results.resourceInfo.labelPID")}),e.jsx("dd",{children:r.resource.handle})]}),r.resource.landingPage&&e.jsxs("a",{href:r.resource.landingPage,className:"matomo_link",target:"_blank",children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Jt}})," ",l("search.results.resourceInfo.moreInformation")]}),e.jsx("hr",{}),e.jsxs(X,{className:"row-gap-2",children:[e.jsx(A,{lg:"auto",md:3,sm:6,children:e.jsx(ge,{label:l("search.results.displayOptions.viewModeLabel"),controlId:"results-view-mode",children:e.jsxs(z.Select,{value:D,onChange:Q,children:[e.jsx("option",{value:"plain",children:l("search.results.displayOptions.viewModeOptions.plain")}),(N!=="lex"||!r.isLexHits)&&e.jsx("option",{value:"kwic",children:l("search.results.displayOptions.viewModeOptions.kwic")}),N==="fcs"&&e.jsx("option",{value:"annotation-layers",children:l("search.results.displayOptions.viewModeOptions.annotation-layers")}),N==="lex"&&e.jsx("option",{value:"lexical-entry",children:l("search.results.displayOptions.viewModeOptions.lexical-entry")})]})})}),e.jsx(A,{lg:3,md:3,sm:6,className:"align-content-center",children:e.jsx(z.Check,{disabled:!U,checked:x,onChange:()=>k(g=>!g),id:"results-modal-view-warnings-errors",label:l("search.results.displayOptions.optionShowWarningsErrors")})}),e.jsxs(A,{lg:"auto",md:6,sm:6,className:"d-flex flex-grow-1 column-gap-3 align-items-center justify-content-end",children:[e.jsxs(pe,{children:[e.jsxs(pe.Toggle,{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Gn}})," ",l("search.results.buttonDownload")]}),e.jsx(pe.Menu,{children:kn.map(({id:g,label:I})=>e.jsx(pe.Item,{href:Hs(u,s,n,g,S,T),className:"matomo_download",children:e.jsx(F,{i18nKey:"search.results.msgButtonDownloadOption",values:{label:l(`downloadFormats.${g}.name`,{ns:"common",defaultValue:I})}})},g))})]}),e.jsxs(W,{disabled:_,"aria-disabled":_,href:Ds(u,s,n,v,S,T),className:"matomo_link",target:"_blank",children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Wn}})," ",l("search.results.buttonSendToWeblicht")]})]})]}),e.jsx("hr",{}),e.jsx("p",{children:e.jsx(F,{i18nKey:"search.results.msgShowingXresults",values:{count:r.records.length,context:q()?"hasmore":null,total:r.numberOfRecords}})}),w()]}),x&&U&&e.jsxs(Y.Body,{className:"border-top",children:[r.exception&&e.jsxs(re,{variant:"danger","aria-label":l("statistics.diagnostic.alertAriaLabel"),children:[e.jsxs(re.Heading,{style:{fontSize:"1rem"},children:[e.jsx("span",{className:"text-uppercase",children:l("search.results.diagnostics.titleException")})," ",e.jsx("span",{"aria-label":l("search.results.diagnostics.msgAriaLabel"),children:r.exception.message})]}),r.exception.cause&&e.jsx("p",{className:"mb-0 small",children:l("search.results.diagnostics.msgCause",{cause:r.exception.cause})}),r.exception.klass&&e.jsx("p",{className:"mb-0 small",children:e.jsx(F,{i18nKey:"search.results.diagnostics.msgCausedBy",values:{class:r.exception.klass}})})]}),r.diagnostics.filter(g=>g.uri!==fe).map(g=>e.jsxs(re,{variant:"warning",children:[e.jsx(re.Heading,{style:{fontSize:"1rem"},children:g.message}),g.diagnostic&&e.jsx("p",{className:"mb-0 small",children:l("search.results.diagnostics.msgDiagnosticDetails",{details:g.diagnostic})}),e.jsx("p",{className:"mb-0 small",children:e.jsx(F,{i18nKey:"search.results.diagnostics.msgDiagnosticType",values:{uri:g.uri}})})]},`${g.uri}-${g.message}-${g.diagnostic}`))]}),q()&&e.jsx(Y.Footer,{className:"justify-content-center border-top py-2",children:e.jsx(Qn,{searchId:s,resourceId:n,numberOfResults:b})})]})}function Xn({searchId:t,resourceId:s,resultInfo:n,viewMode:r,showResourceDetails:a,showDiagnostics:o}){const i=ve(),{t:u}=Z(),l=xe(g=>g.locale),{languages:c}=pt(),{queryType:f}=jt(),[p,b]=h.useState(l);h.useEffect(()=>{l&&b(l)},[l]);const N=new Intl.DisplayNames([l,"en"],{type:"language"}),S=h.useId(),[T,j]=h.useState(!0),[L,E]=h.useState(!1),x=n.inProgress,k=n.numberOfRecordsLoaded>0,D=n.exception||n.diagnostics?.filter(g=>g.uri!==fe).length>0,{data:d,isLoading:O,isError:U}=Ie({queryKey:["search-result-details",t,s],queryFn:Us.bind(null,i,t,s),enabled:!x}),q=d?Ye(d.resource):[];if(x||!k&&(o&&!D||!o)||!d)return null;function v(){E(!0)}function _(){E(!1)}function Q(){return d?d.numberOfRecords===-1?d.records.length:d.numberOfRecords===d.records.length&&d.nextRecordPosition===-1?`${d.records.length} / ${d.numberOfRecords}?`:`${d.records.length} / ${d.numberOfRecords}`:null}function w(){return d?r==="kwic"&&(f!=="lex"||!d.isLexHits)?e.jsx(Zt,{data:d}):r==="lexical-entry"&&d.hasLexResults?e.jsx(es,{data:d}):f==="lex"&&d.isLexHits?e.jsx(ts,{data:d}):e.jsx(ss,{data:d}):null}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{className:"my-1 resource-search-result",role:"group","aria-label":u("search.results.resultResourceAriaLabel",{title:d.resource.title}),children:[e.jsxs(te.Header,{className:"d-flex accordion",children:[e.jsxs("button",{type:"button",onClick:()=>j(g=>!g),"aria-controls":S,"aria-expanded":T,className:`me-3 w-auto flex-grow-1 d-block text-start collapse-toggle-btn ${T?"":"collapsed"}`,children:[e.jsx(be,{bg:"",className:"text-bg-light border me-2 user-select-text","aria-label":u("search.results.resultCountAriaLabel"),children:Q()}),e.jsx("span",{"aria-label":u("search.results.resultResourceTitleAriaLabel"),className:"user-select-text",children:P(d.resource.title,p)}),e.jsx("small",{className:"text-muted user-select-text","aria-label":u("search.results.resultResourceInstitutionAriaLabel"),children:P(d.resource.institution,p)})]}),e.jsx("div",{className:"d-inline-block ms-auto",children:e.jsxs(W,{size:"sm",onClick:v,children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Bt}})," View"]})})]}),e.jsx(Dt,{in:T,children:e.jsxs("div",{id:S,children:[a&&e.jsxs(te.Body,{className:"border-bottom resource-info",children:[e.jsxs("dl",{className:"mb-0","aria-label":u("search.results.resourceInfo.infoTableAriaLabel"),children:[e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:Xe}})," ",u("search.results.resourceInfo.labelInstitution")]}),e.jsx("dd",{className:"mb-0",children:P(d.resource.institution,p)}),e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ns}})," ",u("search.results.resourceInfo.labelDescription")]}),P(d.resource.description,p)&&e.jsxs(e.Fragment,{children:[e.jsx("dd",{className:"mb-0",children:P(d.resource.description,p)}),e.jsxs("dt",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ke}})," ",u("search.results.resourceInfo.labelLanguages")]})]}),e.jsx("dd",{className:"mb-0",children:d.resource.languages.map(c?g=>We(g,c,{defaultAnyLanguage:u("languageCodeToName.any",{ns:"common"}),defaultUnknownLanguage:u("languageCodeToName.unknown",{ns:"common"})}):g=>g).toSorted().join(", ")})]}),q&&q.length>1&&e.jsx(Qe,{type:"radio",name:`${d.resource.id}-result-info-languages`,defaultValue:p,onChange:g=>b(g),className:"mt-2",children:q.toSorted().map(g=>e.jsxs(Ee,{variant:"outline-secondary",size:"sm",id:`${d.resource.id}-result-info-languages-${g}`,value:g,children:[N.of(g)," ",e.jsx("sup",{children:g})]},g))})]}),k&&e.jsx(te.Body,{children:w()}),o&&D&&e.jsxs(te.Body,{className:k?"border-top":"",children:[d.exception&&e.jsxs(re,{variant:"danger","aria-label":u("statistics.diagnostic.alertAriaLabel"),children:[e.jsxs(re.Heading,{style:{fontSize:"1rem"},children:[e.jsx("span",{className:"text-uppercase",children:u("search.results.diagnostics.titleException")})," ",e.jsx("span",{"aria-label":u("search.results.diagnostics.msgAriaLabel"),children:d.exception.message})]}),d.exception.cause&&e.jsx("p",{className:"mb-0 small",children:u("search.results.diagnostics.msgCause",{cause:d.exception.cause})}),d.exception.klass&&e.jsx("p",{className:"mb-0 small",children:e.jsx(F,{i18nKey:"search.results.diagnostics.msgCausedBy",values:{class:d.exception.klass}})})]}),d.diagnostics.filter(g=>g.uri!==fe).map(g=>e.jsxs(re,{variant:"warning",children:[e.jsx(re.Heading,{style:{fontSize:"1rem"},children:g.message}),g.diagnostic&&e.jsx("p",{className:"mb-0 small",children:u("search.results.diagnostics.msgDiagnosticDetails",{details:g.diagnostic})}),e.jsx("p",{className:"mb-0 small",children:e.jsx(F,{i18nKey:"search.results.diagnostics.msgDiagnosticType",values:{uri:g.uri}})})]},`${g.uri}-${g.message}-${g.diagnostic}`))]})]})})]}),e.jsx(Yn,{show:L,searchId:t,resourceId:s,result:d,viewMode:r,showDiagnostics:o,onModalClose:_})]})}const Jn="plain",Zn="lexical-entry",er="default",tr={default:()=>()=>0,"title-up":t=>(s,n)=>{const r=J.getState().locale,a=P(t.get(s.id)?.title??null,r)??"",o=P(t.get(n.id)?.title??null,r)??"";return a.localeCompare(o)},"title-down":t=>(s,n)=>{const r=J.getState().locale,a=P(t.get(s.id)?.title??null,r)??"",o=P(t.get(n.id)?.title??null,r)??"";return-a.localeCompare(o)},"result-count-total-up":()=>(t,s)=>{const n=t.numberOfRecords!==-1?t.numberOfRecords:t.numberOfRecordsLoaded,r=s.numberOfRecords!==-1?s.numberOfRecords:s.numberOfRecordsLoaded;return n-r},"result-count-total-down":()=>(t,s)=>{const n=t.numberOfRecords!==-1?t.numberOfRecords:t.numberOfRecordsLoaded;return(s.numberOfRecords!==-1?s.numberOfRecords:s.numberOfRecordsLoaded)-n}},At=1500;function sr({searchId:t,pollDelay:s=At}){const{t:n}=Z(),r=ve(),{resources:a}=pt(),{query:o,queryType:i,resourceIDs:u}=jt(),[l,c]=h.useState(i==="lex"?Zn:Jn),[f,p]=h.useState(er),[b,N]=h.useState(""),[S,T]=h.useState(!1),[j,L]=h.useState(!1),E=h.useMemo(()=>{const m=new Map;return a?.forEach(R=>{m.set(R.id,R)}),tr[f](m)},[f,a]);s??=At;const{data:x}=Ie({queryKey:["search-results",t],queryFn:Ps.bind(null,r,t??""),enabled:!!t,refetchInterval(m){return m.state.data&&m.state.data.inProgress>0?s:!1}}),k=h.useMemo(()=>x?.results.toSorted(E)||[],[x,E]),D=i==="lex"&&x?.results.every(m=>m.numberOfRecords<=0||m.isLexHits===!0),d=u.length,O=x?.inProgress??d,U=h.useMemo(()=>x?.results.filter(m=>(m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded)>0).length??0,[x]),q=h.useMemo(()=>x?.results.filter(m=>!m.inProgress&&(m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded)>0&&m.diagnostics.filter(R=>R.uri!==fe).length>0).length??0,[x]),v=h.useMemo(()=>x?.results.filter(m=>!m.inProgress&&(m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded)<=0&&m.diagnostics.filter(R=>R.uri!==fe).length===0&&m.exception===null).length??0,[x]),_=h.useMemo(()=>x?.results.filter(m=>!m.inProgress&&(m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded)<=0&&(m.diagnostics.filter(R=>R.uri!==fe).length>0||m.exception!==null)).length??0,[x]),Q=h.useMemo(()=>x?.results.filter(m=>!m.inProgress&&m.numberOfRecords<=0&&m.exception!==null).length??0,[x]),w=h.useMemo(()=>x?.results.filter(m=>!m.inProgress&&(m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded)<=0&&m.diagnostics.filter(R=>R.uri!==fe).length>0&&m.exception===null).length??0,[x]),g=h.useMemo(()=>x?.results.map(m=>m.numberOfRecords!==-1?m.numberOfRecords:m.numberOfRecordsLoaded).reduce((m,R)=>m+R,0)??0,[x]),I=h.useMemo(()=>x?.results.map(m=>m.numberOfRecordsLoaded).reduce((m,R)=>m+R,0)??0,[x]);{const[m,R]=h.useState(!1);h.useEffect(()=>{x&&O===0&&(m||(R(!0),$t(o,i,I)))},[x,O,o,i,t,m,I])}function B(m){c(m.target.value)}function M(m){p(m.target.value)}return e.jsxs("div",{id:"search-results",className:"mt-2 mb-4",children:[e.jsx(Se,{placement:"auto",overlay:e.jsxs(st,{id:"search-progress-information-popover",children:[e.jsx(st.Header,{children:n("search.results.progressPopover.title")}),e.jsxs(st.Body,{style:{textIndent:"2rem hanging"},children:[e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesRequested",count:d})}),O>0&&e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesRequestedPending",count:O})}),e.jsx("hr",{className:"mt-2 mb-1"}),e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithoutResults",count:v+_})}),e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithoutResultsOK",count:v})}),w>0&&e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithoutResultsWarnings",count:w})}),Q>0&&e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithoutResultsErrors",count:Q})}),e.jsx("hr",{className:"mt-2 mb-1"}),e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithResults",count:U})}),q>0&&e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithResultsWarnings",count:q})}),e.jsx("hr",{className:"mt-2 mb-0"}),e.jsx("hr",{className:"mt-1 mb-1"}),e.jsx("div",{children:e.jsx(F,{i18nKey:"search.results.progressPopover.numResourcesWithResultsTotal",count:I,values:{available:g}})})]})]}),children:e.jsxs(De,{className:"mb-3",children:[e.jsx(De,{variant:"success",now:U,max:d,label:e.jsx("span",{children:n("search.results.progressBar.numWithResults",{count:U})}),"aria-label":n("search.results.progressBar.numWithResultsAriaLabel")}),e.jsx(De,{variant:"secondary",now:v+_,max:d,label:e.jsx("span",{children:n("search.results.progressBar.numWithResults",{count:v+_})}),"aria-label":n("search.results.progressBar.numWithoutResultsAriaLabel")}),e.jsx(De,{striped:!0,animated:!0,now:O,max:d,label:e.jsx("span",{children:n("search.results.progressBar.numResultsPending",{count:O})}),"aria-label":n("search.results.progressBar.numResultsPendingAriaLabel")})]})}),e.jsx(te,{className:"mb-2",role:"group","aria-label":n("search.results.displayOptions.cardAriaLabel"),children:e.jsx(te.Body,{children:e.jsxs(X,{className:"row-gap-2",children:[e.jsx(A,{lg:"auto",md:6,sm:6,children:e.jsx(ge,{label:n("search.results.displayOptions.viewModeLabel"),controlId:"results-view-mode",children:e.jsxs(z.Select,{value:l,onChange:B,children:[e.jsx("option",{value:"plain",children:n("search.results.displayOptions.viewModeOptions.plain")}),(i!=="lex"||!D)&&e.jsx("option",{value:"kwic",children:n("search.results.displayOptions.viewModeOptions.kwic")}),i==="fcs"&&e.jsx("option",{value:"annotation-layers",children:n("search.results.displayOptions.viewModeOptions.annotation-layers")}),i==="lex"&&e.jsx("option",{value:"lexical-entry",children:n("search.results.displayOptions.viewModeOptions.lexical-entry")})]})})}),e.jsx(A,{lg:"auto",md:6,sm:6,children:e.jsx(ge,{label:n("search.results.displayOptions.sortingLabel"),controlId:"results-sorting",children:e.jsxs(z.Select,{value:f,onChange:M,children:[e.jsx("option",{value:"default",children:n("search.results.displayOptions.sortingOptions.default")}),e.jsx("option",{value:"title-up",children:n("search.results.displayOptions.sortingOptions.title-up")}),e.jsx("option",{value:"title-down",children:n("search.results.displayOptions.sortingOptions.title-down")}),e.jsx("option",{value:"result-count-total-up",children:n("search.results.displayOptions.sortingOptions.result-count-total-up")}),e.jsx("option",{value:"result-count-total-down",children:n("search.results.displayOptions.sortingOptions.result-count-total-down")})]})})}),e.jsx(A,{lg:"auto",md:12,sm:6,className:"flex-fill order-xl-4",children:e.jsx(ge,{label:n("search.results.displayOptions.resultFilterQueryLabel"),controlId:"result-filter",children:e.jsx(Xt,{disabled:f!=="default"||!0,value:b,onChange:m=>N(m)})})}),e.jsxs(A,{lg:"auto",md:12,sm:12,className:"align-content-center order-xl-3",children:[e.jsx(z.Check,{checked:S,onChange:()=>T(m=>!m),id:"results-view-resource-details",label:n("search.results.displayOptions.optionShowResultDetails")}),e.jsx(z.Check,{checked:j,onChange:()=>L(m=>!m),id:"results-view-warnings-errors",label:n("search.results.displayOptions.optionShowWarningsErrors")})]})]})})}),t&&x&&k.map(m=>e.jsx(Xn,{searchId:t,resourceId:m.id,resultInfo:m,viewMode:l,showResourceDetails:S,showDiagnostics:j},`${t}-${m.id}`))]})}const nr=""+new URL("assets/logo-fcs-dark.png",import.meta.url).href,kt=""+new URL("assets/logo-fcs.png",import.meta.url).href;function rr(){const t=ve(),{t:s}=Z(),[n,r]=Ke(),[a,o]=h.useState([]),[i,u]=h.useState({}),[l,c]=h.useState([]),[f,p]=h.useState(null),[b,N]=h.useState(!1),[S,T]=h.useState(null),[j,L]=h.useState([]),E=K.getState().appTitleHead,x={consortia:n.get(Ae)},{data:k,isLoading:D,isError:d}=Ie({queryKey:["init"],queryFn:_s.bind(null,t,x)});h.useEffect(()=>{if(!k)return;const w=jn(k.resources);u(k.languages),c(k.weblichtLanguages),o(w),p(me(w))},[k]),h.useEffect(()=>{if(!a||a.length===0)return;const w=n.get("x-aggregation-context");if(w){try{const g=JSON.parse(w),{selected:I,unavailable:B}=bn(a,g);I.length>0&&(p(I),L(M=>[...M,{title:s("search.toasts.resourceSelection.title"),body:e.jsxs(e.Fragment,{children:[s("search.toasts.resourceSelection.msgPreselectedResources",{count:I.length}),e.jsx("br",{}),e.jsx("ul",{className:"ps-3",children:I.map(m=>e.jsx("li",{style:{wordBreak:"break-all",fontSize:"0.7rem"},children:m}))})]}),variant:"success"}])),B.length>0&&L(M=>[...M,{title:s("search.toasts.resourceSelection.title"),body:e.jsxs(e.Fragment,{children:[s("search.toasts.resourceSelection.msgUnableToSelectResources",{count:B.length}),e.jsx("br",{}),e.jsx("ul",{className:"ps-3",children:B.map(m=>e.jsx("li",{style:{wordBreak:"break-all",fontSize:"0.7rem"},children:m}))})]}),variant:"warning"}])}catch(g){console.error('Error trying to parse "x-aggregation-context" search parameter!',{aggregationContext:w},g),g instanceof Error&&L(I=>[...I,{title:s("search.toasts.resourceSelection.title"),body:e.jsxs(e.Fragment,{children:[s("search.toasts.resourceSelection.msgErrorUnableToSelectResources",{error:g.name}),e.jsx("br",{}),e.jsx("small",{children:g.message})]}),variant:"error"}])}n.delete("x-aggregation-context"),r(n)}},[a,n,r,s]);const O=D||d,{mutate:U,data:q,isPending:v}=Ut({mutationKey:["search"],mutationFn:({query:w,queryType:g,language:I,numberOfResults:B,resourceIDs:M})=>ks(t,{query:w,queryType:g,language:I,numberOfResults:B.toString(),resourceIds:M})});function _(w){p(w.resourceIDs),T(w),N(!0),$t(w.query,w.queryType),U(w)}function Q(w){L(g=>[...g,w])}return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsx("title",{children:E})}),e.jsxs(se,{id:"search",children:[e.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"bg-dark position-relative",children:e.jsx(Ls,{position:"top-end",className:"mt-2",style:{zIndex:100},children:j.map((w,g)=>e.jsxs(nt,{bg:w.variant,onClose:()=>L(I=>I.filter(B=>B!==w)),delay:w.delay??5e3,autohide:!0,children:[e.jsx(nt.Header,{closeButton:!0,children:e.jsx("strong",{className:"me-auto",children:w.title})}),e.jsx(nt.Body,{children:w.body})]},g))})}),!b&&e.jsx(X,{children:e.jsx(A,{className:"text-center",children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:kt,media:"(prefers-color-scheme: light)"}),e.jsx("source",{srcSet:nr,media:"(prefers-color-scheme: dark)"}),e.jsx("img",{src:kt,className:"logo",alt:"FCS logo"})]})})}),e.jsx(X,{className:"mt-3",children:e.jsx(A,{children:e.jsx($n,{resources:a,languages:i,availableResources:null,selectedResources:f,onSearch:_,onShowToast:Q,hasSearch:b,disabled:O})})}),!b&&e.jsx(X,{className:"mt-3",children:e.jsxs(A,{children:[e.jsx("p",{children:e.jsx(F,{i18nKey:"search.intro.textGeneral"})}),e.jsx("p",{children:e.jsx(F,{i18nKey:"search.intro.textLearnMore",components:[e.jsxs("a",{href:s("search.intro.url"),children:["page ",e.jsx("em",{children:"Content Search"})," at CLARIN.eu"]})]})})]})}),b&&v&&e.jsx(X,{children:e.jsx(A,{className:"text-center my-5",children:e.jsx(Ft,{animation:"border"})})}),S&&q&&e.jsx(cn,{resources:a,languages:i,weblichtLanguages:l,children:e.jsx(dn,{...S,children:e.jsx(sr,{searchId:q})})})]})]})}function ar(){const t=Pt(),s=Ge();return h.useCallback((r,a,o)=>{const i=hs(r,a);t({pathname:i,search:s},o)},[t,s])}function or(){const t=h.useContext(ms),s=ht(),n=t.matches.map(a=>a.route),r=gs(n,s);return r!==null&&r.length>0?r[0]:null}const ir=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
  <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"/>
  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
</svg>`,lr=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
  <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
  <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
</svg>`;function cr({url:t,statistics:s,validatorUrl:n,isScan:r}){const{t:a,i18n:o}=Z(),i=new Intl.NumberFormat(o.language,{style:"unit",unit:"second",unitDisplay:"short"});function u(l,c){const f=e.jsx(ae.Highlight,{text:l.title,ranges:s.matchResources?.[c]??null});return l.valid&&l.notes.length===0?f:e.jsx(Se,{placement:"auto-start",delay:{show:250,hide:400},overlay:e.jsxs(_e,{id:`resource-info-warning-${l.handle}`,children:[!l.valid&&a("statistics.errors.notAvailableInAggregator"),!l.valid&&l.notes.length>=1&&e.jsx("hr",{className:"mt-2 mb-1"}),l.notes.length===1?l.notes[0]:l.notes.length>=1?e.jsx("ul",{className:"text-start m-0 my-1 ps-3",children:l.notes.map((p,b)=>e.jsx("li",{children:p},b))}):null]}),children:e.jsxs("span",{children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:ir},className:"align-baseline me-2"}),l.valid?f:e.jsx("s",{children:f})]})})}return e.jsxs("div",{className:"ps-sm-4 mt-sm-0 mt-2 pt-sm-0 pt-1",children:[e.jsxs("h4",{className:"h5",id:`${Ht(t)}-${r?"scan":"search"}`,children:[e.jsx(ae.Highlight,{text:t,ranges:s.matchEndpoint}),n&&e.jsxs(e.Fragment,{children:[" ",e.jsx("a",{href:`${n}?url=${encodeURIComponent(t)}`,children:e.jsx("i",{dangerouslySetInnerHTML:{__html:lr},className:"align-baseline ms-2"})})]})]}),e.jsxs("dl",{className:"ps-sm-4",children:[e.jsx("dt",{children:a("statistics.labels.fcsVersion")}),e.jsx("dd",{children:s.version}),e.jsx("dt",{children:a("statistics.labels.searchCapabilities")}),e.jsx("dd",{children:s.searchCapabilities.join(", ")}),e.jsx("dt",{children:a("statistics.labels.maxConcurrentScanRequests")}),e.jsx("dd",{children:s.maxConcurrentRequests}),e.jsx("dt",{children:a("statistics.labels.requestStatistics")}),e.jsx("dd",{className:"mb-0",children:a("statistics.labels.numberOfRequests",{count:s.numberOfRequests})}),s.avgQueueTime!==0&&e.jsx("dd",{className:"mb-0",children:a("statistics.labels.queueTime",{avg:i.format(s.avgQueueTime),max:i.format(s.maxQueueTime)})}),e.jsx("dd",{children:a("statistics.labels.executionTime",{avg:i.format(s.avgExecutionTime),max:i.format(s.maxExecutionTime)})}),s.rootResources?.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("dt",{children:a("statistics.labels.resources")}),e.jsx("dd",{children:a("statistics.labels.numberOfRootResources",{count:s.rootResources.length})}),e.jsx("dd",{children:e.jsx("ul",{children:s.rootResources.map((l,c)=>typeof l=="string"?e.jsx("li",{children:e.jsx(ae.Highlight,{text:l,ranges:s.matchResources?.[c]??null})},l):e.jsx("li",{children:u(l,c)},l.handle))})})]}),e.jsxs(e.Fragment,{children:[Object.entries(s.diagnostics||{}).map(([l,c])=>e.jsxs(re,{variant:"warning",style:{fontSize:"0.85rem"},children:[e.jsxs(re.Heading,{style:{fontSize:"1rem"},children:[e.jsxs(be,{bg:"warning",children:[c.counter,"x"]})," ",e.jsx("span",{className:"text-uppercase",children:a("statistics.diagnostic.diagnostic")})," ",c.diagnostic.message,c.diagnostic.diagnostic&&e.jsxs(e.Fragment,{children:[" - ",e.jsx("small",{children:c.diagnostic.diagnostic})]})]}),e.jsxs("p",{className:"mb-0",children:[a("statistics.diagnostic.context")," ",e.jsx("a",{href:c.context,children:c.context})]})]},l)),Object.entries(s.errors||{}).map(([l,c])=>e.jsxs(re,{variant:"danger",style:{fontSize:"0.85rem"},children:[e.jsxs(re.Heading,{style:{fontSize:"1rem"},children:[e.jsxs(be,{bg:"danger",children:[c.counter,"x"]})," ",e.jsx("span",{className:"text-uppercase",children:a("statistics.diagnostic.exception")})," ",c.exception.message]}),e.jsxs("p",{className:"mb-0",children:[a("statistics.diagnostic.context")," ",e.jsx("a",{href:c.context,children:c.context})]}),c.exception.cause&&e.jsxs("p",{className:"mb-0",children:[a("statistics.diagnostic.causedBy")," ",c.exception.cause]})]},l))]})]})]},t)}function ur({data:t,validatorUrl:s}){const{t:n,i18n:r}=Z(),[a,o]=h.useState(""),[i,u]=h.useState(["institution","endpoint","resources"]),[l,c]=h.useState(!1),f=`-${t.isScan?"scan":"search"}`,p=h.useMemo(()=>Object.entries(t.institutions).toSorted().map(([j,L])=>Object.entries(L).toSorted().map(([E,x])=>({institutionName:j,endpointUrl:E,endpointInfo:{...x,rootResources:x.rootResources.toSorted()}}))).flat(1).filter(l?j=>Object.keys(j.endpointInfo.diagnostics).length>0||Object.keys(j.endpointInfo.errors).length>0:()=>!0),[t,l]),b=p.filter(j=>Object.keys(j.endpointInfo.diagnostics).length>0||Object.keys(j.endpointInfo.errors).length>0),S=ae.useFuzzySearchList({list:p,queryText:a,getText:j=>{const L=[];return i.length===0?L.push(j.institutionName,j.endpointUrl,...j.endpointInfo.rootResources.map(E=>typeof E=="string"?E:E.title)):(i.includes("institution")&&L.push(j.institutionName),i.includes("endpoint")&&L.push(j.endpointUrl),i.includes("resources")&&L.push(...j.endpointInfo.rootResources.map(E=>typeof E=="string"?E:E.title))),L},mapResultItem:({item:j,score:L,matches:E})=>({item:j,matches:E,score:L})}).reduce((j,L)=>{const{institutionName:E,endpointUrl:x,endpointInfo:k}=L.item;return Object.getOwnPropertyNames(j).includes(E)||(j[E]={match:i.length===0||i.includes("institution")?L.matches[0]:null,endpoints:{}}),j[E].endpoints[x]={...k,matchEndpoint:i.length===0||i.includes("endpoint")?L.matches[i.length===0||i.includes("institution")?1:0]:null,matchResources:i.length===0||i.includes("resources")?L.matches.slice(0+(i.length===0||i.includes("institution")?1:0)+(i.length===0||i.includes("endpoint")?1:0)):[]},j},{});function T(j){i.includes(j)?u(i.filter(L=>L!==j)):u([...i,j])}return e.jsxs(se,{className:"d-grid gap-2 mt-3",children:[e.jsx(re,{variant:"info",className:"mb-0",children:e.jsxs("dl",{className:"mb-0",children:[e.jsx("dt",{children:n("statistics.labels.startDate")}),e.jsx("dd",{className:"mb-0",children:new Date(t.date).toLocaleString(r.language)}),e.jsx("dt",{children:n("statistics.labels.timeout")}),e.jsx("dd",{className:"mb-0",children:new Intl.NumberFormat(r.language,{style:"unit",unit:"second",unitDisplay:"short"}).format(t.timeout)})]})}),e.jsx(z,{onSubmit:j=>j.preventDefault(),children:e.jsxs(X,{className:"gy-2",children:[e.jsx(A,{lg:6,md:12,children:e.jsx(z.Control,{placeholder:n("statistics.filter.inputPlaceholder"),value:a,onChange:j=>o(j.target.value)})}),e.jsxs(A,{className:"filter-checkboxes",lg:6,md:12,children:[e.jsx(z.Text,{className:"me-2",children:n("statistics.filter.labelForCheckboxes")}),e.jsx(z.Check,{type:"checkbox",checked:i.includes("institution"),onChange:()=>T("institution"),id:`filter-institution-name${f}`,label:n("statistics.filter.checkboxInstitution")}),e.jsx(z.Check,{type:"checkbox",checked:i.includes("endpoint"),onChange:()=>T("endpoint"),id:`filter-endpoint-url${f}`,label:n("statistics.filter.checkboxEndpoint")}),e.jsx(z.Check,{type:"checkbox",checked:i.includes("resources"),onChange:()=>T("resources"),id:`filter-resource-names${f}`,label:n("statistics.filter.checkboxResources")})]})]})}),e.jsx(X,{children:e.jsx(A,{children:e.jsx(z.Check,{type:"checkbox",checked:l,onChange:()=>c(!l),id:`filter-show-issues-only${f}`,label:n("statistics.filter.checkboxShowWithIssues",{count:b.length})})})}),Object.entries(S).map(([j,{match:L,endpoints:E}])=>e.jsxs(te,{className:"p-2",children:[e.jsx("h3",{className:"h4 pb-1 border-bottom",id:`${Ht(j)}${f}`,children:e.jsx(ae.Highlight,{text:j,ranges:L})}),Object.entries(E).toSorted().map(([x,k])=>e.jsx(cr,{url:x,statistics:k,validatorUrl:s,isScan:t.isScan},x))]},j))]})}const dr=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
</svg>`,hr=[{id:"last-scan",label:"Last Scan"},{id:"recent-searches",label:"Recent Searches"}],mr=Object.fromEntries(hr.map(t=>[t.id,t]));function gr(){const t=ve(),s=Ot(),[n]=Ke(),{t:r}=Z(),{categoryId:a}=ps(),o=or(),i=ar(),u={consortia:n.get(Ae)},{isPending:l,isError:c,data:f,error:p}=Ie({queryKey:["statistics"],queryFn:As.bind(null,t,u)}),[b,N]=h.useState(K.getState().validatorURL);K.subscribe(x=>N(x.validatorURL));const S=K.getState().appTitleHead,T=f!==void 0?Object.keys(f).toSorted():[],j=a!=null&&T.includes(a)?a:T.length>0?T[0]:void 0;function L(){s.invalidateQueries({queryKey:["statistics"]})}function E(x){o?.params.categoryId,o&&o.params.categoryId!==x&&o.route.path&&i(o.route.path,{categoryId:x})}return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsxs("title",{children:[S," – Statistics"]})}),e.jsxs(se,{id:"statistics",className:"my-4",children:[e.jsx("h1",{className:"h1",children:r("statistics.title")}),(l||c)&&e.jsx(X,{children:e.jsxs(A,{children:[l?r("statistics.loading"):null,e.jsx("br",{}),c?p.message:null]})}),f&&e.jsxs(rt.Container,{defaultActiveKey:j,onSelect:E,children:[e.jsxs(ue,{className:"nav-tabs",as:"ul",children:[Object.keys(f).map(x=>e.jsx(ue.Item,{as:"li",role:"presentation",children:e.jsx(ue.Link,{as:"button",eventKey:x,children:r(`statistics.tabs.${x}`,{defaultValue:mr[x]?.label??x})})},x)),e.jsx(ue.Item,{as:"li",role:"presentation",className:"ms-auto",children:e.jsxs(ue.Link,{as:"button",onClick:L,children:[e.jsx("i",{dangerouslySetInnerHTML:{__html:dr}})," ",r("statistics.tabs.btnRefresh")]})})]}),e.jsx(rt.Content,{children:Object.entries(f).map(([x,k])=>e.jsx(rt.Pane,{eventKey:x,children:e.jsx(ur,{data:k,validatorUrl:b})},x))})]})]})]})}function pr(){const t=K.getState().appTitleHead;Qs();const s=xe(n=>n.locale);h.useEffect(()=>{he.changeLanguage(s)},[s]);{const n=ht(),[r,a]=h.useState(n.pathname);h.useEffect(()=>{const o=n.pathname;o!==r&&(a(o+n.search),Vt(o,document.title,r))},[n,r])}return e.jsxs(e.Fragment,{children:[e.jsx(Te,{children:e.jsx("title",{children:t})}),e.jsx(Vs,{}),e.jsx("main",{children:e.jsxs(fs,{children:[e.jsx(He,{index:!0,element:e.jsx(rr,{})}),e.jsx(He,{path:"/about",element:e.jsx(on,{})}),e.jsx(He,{path:"/help",element:e.jsx(ln,{})}),e.jsx(He,{path:"/stats/:categoryId?",element:e.jsx(gr,{})})]})}),e.jsx(qs,{})]})}window.MyAggregator=window.MyAggregator||{};window._paq=window._paq||[];const fr=["DEPLOY_PATH","API_URL","APP_TITLE","APP_TITLE_HEAD","MATOMO_TRACKING_PARAMS"];function xr(){window.MyAggregator.DEPLOY_PATH!==void 0&&K.getState().setDeployPath(window.MyAggregator.DEPLOY_PATH),window.MyAggregator.API_URL!==void 0&&K.getState().setApiURL(window.MyAggregator.API_URL),window.MyAggregator.VALIDATOR_URL!==void 0&&K.getState().setValidatorURL(window.MyAggregator.VALIDATOR_URL),window.MyAggregator.SHOW_SEARCH_RESULT_LINK!==void 0&&K.getState().setShowSearchResultLink(window.MyAggregator.SHOW_SEARCH_RESULT_LINK),window.MyAggregator.APP_TITLE!==void 0&&K.getState().setAppTitle(window.MyAggregator.APP_TITLE),window.MyAggregator.APP_TITLE_HEAD!==void 0&&K.getState().setAppTitleHead(window.MyAggregator.APP_TITLE_HEAD),window.MyAggregator.MATOMO_TRACKING_PARAMS!==void 0&&K.getState().setMatomoTrackingParams(window.MyAggregator.MATOMO_TRACKING_PARAMS),window.MyAggregator.AUTH_USERNAME!==void 0&&K.getState().setAuthUsername(window.MyAggregator.AUTH_USERNAME),window.MyAggregator=new Proxy(window.MyAggregator,{get(t,s){return t[s]},set(t,s,n){return fr.includes(s)?(console.error(`Configuration ${s} can only be set on initialization!`),!1):s==="VALIDATOR_URL"?n===null||typeof n=="string"?(K.getState().setValidatorURL(n),!0):!1:s==="SHOW_SEARCH_RESULT_LINK"?typeof n=="boolean"?(K.getState().setShowSearchResultLink(n),!0):!1:s==="AUTH_USERNAME"?n===null||typeof n=="string"?(K.getState().setAuthUsername(n),!0):!1:(t[s]=n,!0)}}),Object.assign(window.MyAggregator,{getAppStore:()=>K})}function jr(){const t=J.getState(),s=[navigator.language,...navigator.languages];let n=!1;for(const r of s){if(r===t.locale){n=!0;break}if(t.locales.includes(r)){t.setLocale(r),n=!0;break}}n||console.warn("User locale",s,"was not found in available languages",t.locales),Object.assign(window.MyAggregator,{getLocaleStore:()=>J})}xr();jr();K.getInitialState(),K.getState();J.getInitialState(),J.getState();const br=K.getState().deployPath,yr=K.getState().apiURL,wr=J.getState().locale;he.changeLanguage(wr);const Sr=new xs({defaultOptions:{queries:{}}}),vr=js.create({baseURL:yr,timeout:5e3,responseType:"json",transitional:{silentJSONParsing:!1}});{const t=K.getState().matomoTrackingParams;pn(t)||console.warn("Unable to setup tracking ...")}const Lr="root",Rr=document.getElementById(Lr),Cr=Es.createRoot(Rr);Cr.render(e.jsx(h.StrictMode,{children:e.jsx(un,{axios:vr,children:e.jsx(bs,{client:Sr,children:e.jsx(ys,{children:e.jsx(ws,{basename:br,children:e.jsx(pr,{})})})})})}));export{Yt as C,Sn as f,zn as h,Gt as u};
//# sourceMappingURL=fcs-sru-aggregator-ui-0.0.0.js.map
